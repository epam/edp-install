<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://epam.github.io/edp-install/operator-guide/ssl-automation-okd/ rel=canonical><link rel=icon href=../../assets/favicon.png><meta name=generator content="mkdocs-1.3.1, mkdocs-material-8.4.0"><title>Use Cert-Manager in OpenShift - EPAM Delivery Platform</title><link rel=stylesheet href=../../assets/stylesheets/main.69437709.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.cbb835fc.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-7ZV6PJ2LSP"),document.addEventListener("DOMContentLoaded",function(){if(document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document.forms.feedback){var e,a=document.forms.feedback;for(e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}"undefined"!=typeof location$&&location$.subscribe(function(e){n("config","G-7ZV6PJ2LSP",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-7ZV6PJ2LSP",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>var consent;"undefined"==typeof __md_analytics||(consent=__md_get("__consent"))&&consent.analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=cyan data-md-color-accent=blue> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#use-cert-manager-in-openshift class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> <button class="md-banner__button md-icon" aria-label="Don't show this again"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> EDP Team Supports Ukraine ðŸ‡ºðŸ‡¦<br> In solidarity, we ask that you consider financially supporting the organizations below:<br> <a href=https://epamuafund.pinkaloo.com/causes/159bdd2f71854adf8ed5251fe26d2fe0 target=_blank>EPAMâ€™s Global Partners for the Ukraine Humanitarian Crisis</a> </div> <script>var content,el=document.querySelector("[data-md-component=announce]");el&&(content=el.querySelector(".md-typeset"),__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0))</script> </aside> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="EPAM Delivery Platform" class="md-header__button md-logo" aria-label="EPAM Delivery Platform" data-md-component=logo> <img src=../../assets/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> EPAM Delivery Platform </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Use Cert-Manager in OpenShift </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=cyan data-md-color-accent=blue aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary data-md-color-accent aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/epam/edp-install title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Overview </a> </li> <li class=md-tabs__item> <a href=../../features/ class=md-tabs__link> Basic Concepts </a> </li> <li class=md-tabs__item> <a href=../../getting-started/ class=md-tabs__link> Getting Started </a> </li> <li class=md-tabs__item> <a href=../ class="md-tabs__link md-tabs__link--active"> Operator Guide </a> </li> <li class=md-tabs__item> <a href=../../user-guide/ class=md-tabs__link> User Guide </a> </li> <li class=md-tabs__item> <a href=../../headlamp-user-guide/ class=md-tabs__link> Headlamp User Guide </a> </li> <li class=md-tabs__item> <a href=../../developer-guide/ class=md-tabs__link> Developer Guide </a> </li> <li class=md-tabs__item> <a href=../../roadmap/ class=md-tabs__link> RoadMap </a> </li> <li class=md-tabs__item> <a href=../../use-cases/ class=md-tabs__link> Use Cases </a> </li> <li class=md-tabs__item> <a href=../../faq/ class=md-tabs__link> FAQ </a> </li> <li class=md-tabs__item> <a href=../../glossary/ class=md-tabs__link> Glossary </a> </li> <li class=md-tabs__item> <a href=https://github.com/epam/edp-install/blob/master/RELEASES.md class=md-tabs__link> Releases â§‰ </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="EPAM Delivery Platform" class="md-nav__button md-logo" aria-label="EPAM Delivery Platform" data-md-component=logo> <img src=../../assets/logo.png alt=logo> </a> EPAM Delivery Platform </label> <div class=md-nav__source> <a href=https://github.com/epam/edp-install title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../features/ class=md-nav__link> Basic Concepts </a> </li> <li class=md-nav__item> <a href=../../getting-started/ class=md-nav__link> Getting Started </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4> Operator Guide <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Operator Guide" data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Operator Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2 type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2> Installation <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Installation data-md-level=2> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Installation </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2_1 type=checkbox id=__nav_4_2_1> <label class=md-nav__link for=__nav_4_2_1> Prerequisites <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Prerequisites data-md-level=3> <label class=md-nav__title for=__nav_4_2_1> <span class="md-nav__icon md-icon"></span> Prerequisites </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../install-ingress-nginx/ class=md-nav__link> Install NGINX Ingress Controller </a> </li> <li class=md-nav__item> <a href=../install-keycloak/ class=md-nav__link> Install Keycloak </a> </li> <li class=md-nav__item> <a href=../install-defectdojo/ class=md-nav__link> Install DefectDojo </a> </li> <li class=md-nav__item> <a href=../install-reportportal/ class=md-nav__link> Install ReportPortal </a> </li> <li class=md-nav__item> <a href=../install-argocd/ class=md-nav__link> Install Argo CD </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2_1_6 type=checkbox id=__nav_4_2_1_6> <label class=md-nav__link for=__nav_4_2_1_6> Kiosk <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Kiosk data-md-level=4> <label class=md-nav__title for=__nav_4_2_1_6> <span class="md-nav__icon md-icon"></span> Kiosk </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../edp-kiosk-usage/ class=md-nav__link> EDP Kiosk Usage </a> </li> <li class=md-nav__item> <a href=../install-kiosk/ class=md-nav__link> Set Up Kiosk </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../kubernetes-cluster-settings/ class=md-nav__link> Set Up Kubernetes </a> </li> <li class=md-nav__item> <a href=../openshift-cluster-settings/ class=md-nav__link> Set Up OpenShift </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../install-edp/ class=md-nav__link> Install EDP </a> </li> <li class=md-nav__item> <a href=../install-via-helmfile/ class=md-nav__link> Install via Helmfile </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3 type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3> Configuration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Configuration data-md-level=2> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> Configuration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../add-other-code-language/ class=md-nav__link> Add Other Code Language </a> </li> <li class=md-nav__item> <a href=../import-strategy/ class=md-nav__link> Enable VCS Import Strategy </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_3 type=checkbox id=__nav_4_3_3> <label class=md-nav__link for=__nav_4_3_3> Manage Jenkins Pipelines <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Manage Jenkins Pipelines" data-md-level=3> <label class=md-nav__title for=__nav_4_3_3> <span class="md-nav__icon md-icon"></span> Manage Jenkins Pipelines </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../overview-manage-jenkins-pipelines/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../manage-jenkins-ci-job-provision/ class=md-nav__link> Manage Jenkins CI Pipeline Job Provisioner </a> </li> <li class=md-nav__item> <a href=../manage-jenkins-cd-job-provision/ class=md-nav__link> Manage Jenkins CD Pipeline Job Provisioner </a> </li> <li class=md-nav__item> <a href=../delete-jenkins-job-provision/ class=md-nav__link> Delete Jenkins Job Provision </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_4 type=checkbox id=__nav_4_4> <label class=md-nav__link for=__nav_4_4> Integration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Integration data-md-level=2> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> Integration </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_4_1 type=checkbox id=__nav_4_4_1> <label class=md-nav__link for=__nav_4_4_1> AWS Integration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="AWS Integration" data-md-level=3> <label class=md-nav__title for=__nav_4_4_1> <span class="md-nav__icon md-icon"></span> AWS Integration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../waf-tf-configuration/ class=md-nav__link> Configure AWS WAF With Terraform </a> </li> <li class=md-nav__item> <a href=../enable-irsa/ class=md-nav__link> Associate IAM Roles With Service Accounts </a> </li> <li class=md-nav__item> <a href=../kaniko-irsa/ class=md-nav__link> IAM Roles for Kaniko Service Accounts </a> </li> <li class=md-nav__item> <a href=../velero-irsa/ class=md-nav__link> IAM Roles for Velero Service Accounts </a> </li> <li class=md-nav__item> <a href=../loki-irsa/ class=md-nav__link> IAM Roles for Loki Service Accounts </a> </li> <li class=md-nav__item> <a href=../configure-keycloak-oidc-eks/ class=md-nav__link> EKS OIDC With Keycloak </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_4_2 type=checkbox id=__nav_4_4_2> <label class=md-nav__link for=__nav_4_4_2> Jira Integration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Jira Integration" data-md-level=3> <label class=md-nav__title for=__nav_4_4_2> <span class="md-nav__icon md-icon"></span> Jira Integration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../jira-integration/ class=md-nav__link> Adjust Jira Integration </a> </li> <li class=md-nav__item> <a href=../jira-gerrit-integration/ class=md-nav__link> Adjust VCS Integration With Jira </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_4_3 type=checkbox id=__nav_4_4_3> <label class=md-nav__link for=__nav_4_4_3> GitHub Integration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="GitHub Integration" data-md-level=3> <label class=md-nav__title for=__nav_4_4_3> <span class="md-nav__icon md-icon"></span> GitHub Integration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../github-integration/ class=md-nav__link> GitHub Integration </a> </li> <li class=md-nav__item> <a href=../github-debug-webhooks/ class=md-nav__link> Debug GitHub Webhooks in Jenkins </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_4_4 type=checkbox id=__nav_4_4_4> <label class=md-nav__link for=__nav_4_4_4> GitLab Integration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="GitLab Integration" data-md-level=3> <label class=md-nav__title for=__nav_4_4_4> <span class="md-nav__icon md-icon"></span> GitLab Integration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../gitlab-integration/ class=md-nav__link> GitLab Integration </a> </li> <li class=md-nav__item> <a href=../gitlabci-integration/ class=md-nav__link> Adjust GitLab CI Tool </a> </li> <li class=md-nav__item> <a href=../gitlab-debug-webhooks/ class=md-nav__link> Debug GitLab Webhooks in Jenkins </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../perf-integration/ class=md-nav__link> Perf Server Integration </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_4_6 type=checkbox id=__nav_4_4_6> <label class=md-nav__link for=__nav_4_4_6> ReportPortal <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=ReportPortal data-md-level=3> <label class=md-nav__title for=__nav_4_4_6> <span class="md-nav__icon md-icon"></span> ReportPortal </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reportportal-keycloak/ class=md-nav__link> Keycloak Integration </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../logsight-integration/ class=md-nav__link> Logsight Integration </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_5 type=checkbox id=__nav_4_5> <label class=md-nav__link for=__nav_4_5> Platform Capabilities <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Platform Capabilities" data-md-level=2> <label class=md-nav__title for=__nav_4_5> <span class="md-nav__icon md-icon"></span> Platform Capabilities </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_5_1 type=checkbox id=__nav_4_5_1> <label class=md-nav__link for=__nav_4_5_1> GitOps <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=GitOps data-md-level=3> <label class=md-nav__title for=__nav_4_5_1> <span class="md-nav__icon md-icon"></span> GitOps </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../argocd-integration/ class=md-nav__link> Argo CD Integration </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_5_2 type=checkbox id=__nav_4_5_2> <label class=md-nav__link for=__nav_4_5_2> Secrets Management <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Secrets Management" data-md-level=3> <label class=md-nav__title for=__nav_4_5_2> <span class="md-nav__icon md-icon"></span> Secrets Management </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../install-external-secrets-operator/ class=md-nav__link> Install External Secrets Operator </a> </li> <li class=md-nav__item> <a href=../external-secrets-operator-integration/ class=md-nav__link> External Secrets Operator Integration </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_5_3 type=checkbox id=__nav_4_5_3> <label class=md-nav__link for=__nav_4_5_3> Static Application Security Testing <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Static Application Security Testing" data-md-level=3> <label class=md-nav__title for=__nav_4_5_3> <span class="md-nav__icon md-icon"></span> Static Application Security Testing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../overview-sast/ class=md-nav__link> Static Application Security Testing Overview </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_5_3_2 type=checkbox id=__nav_4_5_3_2> <label class=md-nav__link for=__nav_4_5_3_2> Scanners <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Scanners data-md-level=4> <label class=md-nav__title for=__nav_4_5_3_2> <span class="md-nav__icon md-icon"></span> Scanners </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../add-security-scanner/ class=md-nav__link> Add Security Scanner </a> </li> <li class=md-nav__item> <a href=../sast-scaner-semgrep/ class=md-nav__link> Semgrep </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_5_4 type=checkbox id=__nav_4_5_4> <label class=md-nav__link for=__nav_4_5_4> Backup With Velero <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Backup With Velero" data-md-level=3> <label class=md-nav__title for=__nav_4_5_4> <span class="md-nav__icon md-icon"></span> Backup With Velero </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../install-velero/ class=md-nav__link> Install Velero </a> </li> <li class=md-nav__item> <a href=../restore-edp-with-velero/ class=md-nav__link> Restore EDP Tenant With Velero </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_5_5 type=checkbox id=__nav_4_5_5> <label class=md-nav__link for=__nav_4_5_5> Logging <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Logging data-md-level=3> <label class=md-nav__title for=__nav_4_5_5> <span class="md-nav__icon md-icon"></span> Logging </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../install-loki/ class=md-nav__link> Install Grafana Loki </a> </li> <li class=md-nav__item> <a href=../multitenant-logging/ class=md-nav__link> Multitenant Logging </a> </li> <li class=md-nav__item> <a href=../schedule-pods-restart/ class=md-nav__link> Schedule Pods Restart </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_6 type=checkbox id=__nav_4_6> <label class=md-nav__link for=__nav_4_6> Upgrade <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Upgrade data-md-level=2> <label class=md-nav__title for=__nav_4_6> <span class="md-nav__icon md-icon"></span> Upgrade </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_6_1 type=checkbox id=__nav_4_6_1> <label class=md-nav__link for=__nav_4_6_1> EDP on Kubernetes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="EDP on Kubernetes" data-md-level=3> <label class=md-nav__title for=__nav_4_6_1> <span class="md-nav__icon md-icon"></span> EDP on Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../upgrade-edp-2.7.8-to-2.8.4/ class=md-nav__link> Upgrade EDP v.2.7.8 to v.2.8.4 </a> </li> <li class=md-nav__item> <a href=../upgrade-edp-2.8.4-to-2.9.0/ class=md-nav__link> Upgrade EDP v.2.8.4 to v.2.9.0 </a> </li> <li class=md-nav__item> <a href=../upgrade-edp-2.9.0-to-2.10.2/ class=md-nav__link> Upgrade EDP v.2.9.0 to v.2.10.2 </a> </li> <li class=md-nav__item> <a href=../upgrade-edp-2.10.x-to-2.11.x/ class=md-nav__link> Upgrade EDP v.2.10.x to v.2.11.x </a> </li> <li class=md-nav__item> <a href=../upgrade-edp-2.11.x-to-2.12.x/ class=md-nav__link> Upgrade EDP v.2.11.x to v.2.12.x </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_7 type=checkbox id=__nav_4_7 checked> <label class=md-nav__link for=__nav_4_7> Tutorials <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Tutorials data-md-level=2> <label class=md-nav__title for=__nav_4_7> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../deploy-aws-eks/ class=md-nav__link> Deploy AWS EKS Cluster </a> </li> <li class=md-nav__item> <a href=../deploy-okd/ class=md-nav__link> Deploy OKD 4.9 Cluster </a> </li> <li class=md-nav__item> <a href=../deploy-okd-4.10/ class=md-nav__link> Deploy OKD 4.10 Cluster </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Use Cert-Manager in OpenShift <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Use Cert-Manager in OpenShift </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#prerequisites class=md-nav__link> Prerequisites </a> </li> <li class=md-nav__item> <a href=#install-cert-manager-operator class=md-nav__link> Install Cert-Manager Operator </a> </li> <li class=md-nav__item> <a href=#create-aws-role-for-route53 class=md-nav__link> Create AWS Role for Route53 </a> </li> <li class=md-nav__item> <a href=#configure-cert-manager-integration-with-aws-route53 class=md-nav__link> Configure Cert-Manager Integration With AWS Route53 </a> </li> <li class=md-nav__item> <a href=#configure-clusterissuers class=md-nav__link> Configure ClusterIssuers </a> </li> <li class=md-nav__item> <a href=#configure-certificates class=md-nav__link> Configure Certificates </a> </li> <li class=md-nav__item> <a href=#modify-openshift-router-and-api-server-custom-resources class=md-nav__link> Modify OpenShift Router and API Server Custom Resources </a> </li> <li class=md-nav__item> <a href=#move-from-lets-encrypt-staging-environment-to-prod class=md-nav__link> Move From Let's Encrypt Staging Environment to Prod </a> </li> <li class=md-nav__item> <a href=#troubleshoot-certificates class=md-nav__link> Troubleshoot Certificates </a> </li> <li class=md-nav__item> <a href=#remove-obsolete-certificate-authority-data-from-kubeconfig class=md-nav__link> Remove Obsolete Certificate Authority Data From Kubeconfig </a> </li> <li class=md-nav__item> <a href=#certificate-renewals class=md-nav__link> Certificate Renewals </a> </li> <li class=md-nav__item> <a href=#related-articles class=md-nav__link> Related Articles </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../add-jenkins-agent/ class=md-nav__link> Manage Jenkins Agent </a> </li> <li class=md-nav__item> <a href=../upgrade-keycloak-17.0.x-legacy-to-19.0.x/ class=md-nav__link> Upgrade Keycloak v.17.0.x-legacy to v.19.0.x </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5> User Guide <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="User Guide" data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> User Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user-guide/ class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_2 type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2> Application <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Application data-md-level=2> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> Application </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user-guide/application/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../user-guide/add-application/ class=md-nav__link> Add Application </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_3 type=checkbox id=__nav_5_3> <label class=md-nav__link for=__nav_5_3> Autotest <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Autotest data-md-level=2> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> Autotest </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user-guide/autotest/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../user-guide/add-autotest/ class=md-nav__link> Add Autotests </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_4 type=checkbox id=__nav_5_4> <label class=md-nav__link for=__nav_5_4> Library <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Library data-md-level=2> <label class=md-nav__title for=__nav_5_4> <span class="md-nav__icon md-icon"></span> Library </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user-guide/library/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../user-guide/add-library/ class=md-nav__link> Add Library </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_5 type=checkbox id=__nav_5_5> <label class=md-nav__link for=__nav_5_5> Pipelines <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Pipelines data-md-level=2> <label class=md-nav__title for=__nav_5_5> <span class="md-nav__icon md-icon"></span> Pipelines </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user-guide/cicd-overview/ class=md-nav__link> EDP CI/CD Overview </a> </li> <li class=md-nav__item> <a href=../../user-guide/pipeline-framework/ class=md-nav__link> EDP Pipeline Framework </a> </li> <li class=md-nav__item> <a href=../../user-guide/add-custom-global-pipeline-lib/ class=md-nav__link> Add Custom Pipeline Library </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_5_4 type=checkbox id=__nav_5_5_4> <label class=md-nav__link for=__nav_5_5_4> CI Pipeline <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="CI Pipeline" data-md-level=3> <label class=md-nav__title for=__nav_5_5_4> <span class="md-nav__icon md-icon"></span> CI Pipeline </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user-guide/ci-pipeline-details/ class=md-nav__link> CI Pipeline Details </a> </li> <li class=md-nav__item> <a href=../../user-guide/code-review-pipeline/ class=md-nav__link> Code Review Pipeline </a> </li> <li class=md-nav__item> <a href=../../user-guide/build-pipeline/ class=md-nav__link> Build Pipeline </a> </li> <li class=md-nav__item> <a href=../../user-guide/customize-ci-pipeline/ class=md-nav__link> Customize CI Pipeline </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_5_4_5 type=checkbox id=__nav_5_5_4_5> <label class=md-nav__link for=__nav_5_5_4_5> Stages <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Stages data-md-level=4> <label class=md-nav__title for=__nav_5_5_4_5> <span class="md-nav__icon md-icon"></span> Stages </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user-guide/pipeline-stages/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../user-guide/dockerfile-stages/ class=md-nav__link> Use Dockerfile Linters for Code Review Pipeline </a> </li> <li class=md-nav__item> <a href=../../user-guide/ecr-to-docker-stages/ class=md-nav__link> Promote Docker Images From ECR to Docker Hub </a> </li> <li class=md-nav__item> <a href=../../user-guide/helm-stages/ class=md-nav__link> Helm Chart Testing and Documentation Tools </a> </li> <li class=md-nav__item> <a href=../../user-guide/opa-stages/ class=md-nav__link> Use Open Policy Agent </a> </li> <li class=md-nav__item> <a href=../../user-guide/terraform-stages/ class=md-nav__link> CI Pipeline for Terraform </a> </li> <li class=md-nav__item> <a href=../../user-guide/container-stages/ class=md-nav__link> CI Pipeline for Container </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_5_5 type=checkbox id=__nav_5_5_5> <label class=md-nav__link for=__nav_5_5_5> CD Pipeline <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="CD Pipeline" data-md-level=3> <label class=md-nav__title for=__nav_5_5_5> <span class="md-nav__icon md-icon"></span> CD Pipeline </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user-guide/cd-pipeline-details/ class=md-nav__link> CD Pipeline Details </a> </li> <li class=md-nav__item> <a href=../../user-guide/add-cd-pipeline/ class=md-nav__link> Add CD Pipeline </a> </li> <li class=md-nav__item> <a href=../../user-guide/customize-cd-pipeline/ class=md-nav__link> Customize CD Pipeline </a> </li> <li class=md-nav__item> <a href=../../user-guide/prepare-for-release/ class=md-nav__link> Prepare for Release </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_5_5_5 type=checkbox id=__nav_5_5_5_5> <label class=md-nav__link for=__nav_5_5_5_5> Stages <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Stages data-md-level=4> <label class=md-nav__title for=__nav_5_5_5_5> <span class="md-nav__icon md-icon"></span> Stages </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user-guide/copy-shared-secrets/ class=md-nav__link> Copy Shared Secrets </a> </li> <li class=md-nav__item> <a href=../../user-guide/helm-release-deletion/ class=md-nav__link> Helm Release Deletion </a> </li> <li class=md-nav__item> <a href=../../user-guide/semi-auto-deploy/ class=md-nav__link> Semi Auto Deploy </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../user-guide/d-d-diagram/ class=md-nav__link> Delivery Dashboard Diagram </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6> Headlamp User Guide <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Headlamp User Guide" data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Headlamp User Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../headlamp-user-guide/ class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_2 type=checkbox id=__nav_6_2> <label class=md-nav__link for=__nav_6_2> Application <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Application data-md-level=2> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> Application </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../headlamp-user-guide/application/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../headlamp-user-guide/add-application/ class=md-nav__link> Add Application </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_3 type=checkbox id=__nav_6_3> <label class=md-nav__link for=__nav_6_3> Autotest <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Autotest data-md-level=2> <label class=md-nav__title for=__nav_6_3> <span class="md-nav__icon md-icon"></span> Autotest </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../headlamp-user-guide/autotest/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../headlamp-user-guide/add-autotest/ class=md-nav__link> Add Autotests </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_4 type=checkbox id=__nav_6_4> <label class=md-nav__link for=__nav_6_4> Library <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Library data-md-level=2> <label class=md-nav__title for=__nav_6_4> <span class="md-nav__icon md-icon"></span> Library </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../headlamp-user-guide/library/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../headlamp-user-guide/add-library/ class=md-nav__link> Add Library </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_5 type=checkbox id=__nav_6_5> <label class=md-nav__link for=__nav_6_5> Pipelines <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Pipelines data-md-level=2> <label class=md-nav__title for=__nav_6_5> <span class="md-nav__icon md-icon"></span> Pipelines </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_5_1 type=checkbox id=__nav_6_5_1> <label class=md-nav__link for=__nav_6_5_1> CD Pipeline <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="CD Pipeline" data-md-level=3> <label class=md-nav__title for=__nav_6_5_1> <span class="md-nav__icon md-icon"></span> CD Pipeline </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../headlamp-user-guide/add-cd-pipeline/ class=md-nav__link> Add CD Pipeline </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_6 type=checkbox id=__nav_6_6> <label class=md-nav__link for=__nav_6_6> Git Server <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Git Server" data-md-level=2> <label class=md-nav__title for=__nav_6_6> <span class="md-nav__icon md-icon"></span> Git Server </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../headlamp-user-guide/add-git-server/ class=md-nav__link> Add Git Server </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7 type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7> Developer Guide <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Developer Guide" data-md-level=1> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Developer Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../developer-guide/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../developer-guide/local-development/ class=md-nav__link> Local Development </a> </li> <li class=md-nav__item> <a href=../../developer-guide/rest-api/ class=md-nav__link> EDP API </a> </li> <li class=md-nav__item> <a href=../../developer-guide/mk-docs-development/ class=md-nav__link> Documentation Flow </a> </li> <li class=md-nav__item> <a href=../../developer-guide/edp-workflow/ class=md-nav__link> EDP Project Rules. Working Process </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../roadmap/ class=md-nav__link> RoadMap </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_9 type=checkbox id=__nav_9> <label class=md-nav__link for=__nav_9> Use Cases <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Use Cases" data-md-level=1> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> Use Cases </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../use-cases/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../use-cases/autotest-as-quality-gate/ class=md-nav__link> Autotest as Quality Gate </a> </li> <li class=md-nav__item> <a href=../../use-cases/promotion-procedure/ class=md-nav__link> Promote Application in CD Pipeline </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../faq/ class=md-nav__link> FAQ </a> </li> <li class=md-nav__item> <a href=../../glossary/ class=md-nav__link> Glossary </a> </li> <li class=md-nav__item> <a href=https://github.com/epam/edp-install/blob/master/RELEASES.md class=md-nav__link> Releases â§‰ </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#prerequisites class=md-nav__link> Prerequisites </a> </li> <li class=md-nav__item> <a href=#install-cert-manager-operator class=md-nav__link> Install Cert-Manager Operator </a> </li> <li class=md-nav__item> <a href=#create-aws-role-for-route53 class=md-nav__link> Create AWS Role for Route53 </a> </li> <li class=md-nav__item> <a href=#configure-cert-manager-integration-with-aws-route53 class=md-nav__link> Configure Cert-Manager Integration With AWS Route53 </a> </li> <li class=md-nav__item> <a href=#configure-clusterissuers class=md-nav__link> Configure ClusterIssuers </a> </li> <li class=md-nav__item> <a href=#configure-certificates class=md-nav__link> Configure Certificates </a> </li> <li class=md-nav__item> <a href=#modify-openshift-router-and-api-server-custom-resources class=md-nav__link> Modify OpenShift Router and API Server Custom Resources </a> </li> <li class=md-nav__item> <a href=#move-from-lets-encrypt-staging-environment-to-prod class=md-nav__link> Move From Let's Encrypt Staging Environment to Prod </a> </li> <li class=md-nav__item> <a href=#troubleshoot-certificates class=md-nav__link> Troubleshoot Certificates </a> </li> <li class=md-nav__item> <a href=#remove-obsolete-certificate-authority-data-from-kubeconfig class=md-nav__link> Remove Obsolete Certificate Authority Data From Kubeconfig </a> </li> <li class=md-nav__item> <a href=#certificate-renewals class=md-nav__link> Certificate Renewals </a> </li> <li class=md-nav__item> <a href=#related-articles class=md-nav__link> Related Articles </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=use-cert-manager-in-openshift>Use Cert-Manager in OpenShift<a class=headerlink href=#use-cert-manager-in-openshift title="Permanent link">âš“ï¸Ž</a></h1> <p>The following material covers <a href=https://letsencrypt.org/ >Let's Encrypt</a> certificate automation with <a href=https://github.com/cert-manager/cert-manager>cert-manager</a> using <a href=https://aws.amazon.com/route53/ >AWS Route53</a>.</p> <p>The <a href=https://cert-manager.io/docs/ >cert-manager</a> is a Kubernetes/OpenShift operator that allows to issue and automatically renew SSL certificates. In this tutorial, the steps to secure DNS Name will be demonstrated.</p> <p>Below is an instruction on how to automatically issue and install wildcard certificates on OpenShift Ingress Controller and API Server covering all cluster Routes. To secure separate OpenShift Routes, please refer to the <a href=https://github.com/cert-manager/openshift-routes>OpenShift Route Support</a> project for <code>cert-manager</code>.</p> <h3 id=prerequisites>Prerequisites<a class=headerlink href=#prerequisites title="Permanent link">âš“ï¸Ž</a></h3> <ul> <li>The cert-manager;</li> <li>OpenShift v4.7 - v4.11;</li> <li>Connection to the OpenShift Cluster;</li> <li>Enabled AWS IRSA;</li> <li>The latest <a href=https://github.com/openshift/okd/releases><code>oc</code> utility</a>. The <code>kubectl</code> tool can also be used for most of the commands.</li> </ul> <h3 id=install-cert-manager-operator>Install Cert-Manager Operator<a class=headerlink href=#install-cert-manager-operator title="Permanent link">âš“ï¸Ž</a></h3> <p><a href=https://docs.openshift.com/container-platform/4.11/security/cert_manager_operator/cert-manager-operator-install.html>Install</a> the <code>cert-manager</code> operator via OpenShift <a href=https://docs.openshift.com/container-platform/4.11/operators/understanding/olm-understanding-operatorhub.html>OperatorHub</a> that uses <a href=https://docs.openshift.com/container-platform/4.11/operators/understanding/olm/olm-understanding-olm.html>Operator Lifecycle Manager (OLM)</a>:<br></p> <ol> <li> <p>Go to the <strong>OpenShift Admin Console</strong> â†’ <strong>OperatorHub</strong>, search for the <code>cert-manager</code>, and click <strong>Install</strong>:</p> <p> <figure><a data-caption="Cert-Manager Installation" data-fancybox=gallery href=../../assets/operator-guide/ssl-okd-config-01.png><img alt="Cert-Manager Installation" src=../../assets/operator-guide/ssl-okd-config-01.png title="Cert-Manager Installation" width=600px></a><figcaption>Cert-Manager Installation</figcaption> </figure> </p> </li> <li> <p>Modify the <code>ClusterServiceVersion</code> OLM resource, by selecting the <strong>Update approval</strong> â†’ <strong>Manual</strong>. If selecting <strong>Update approval</strong> â†’ <strong>Automatic</strong> after the automatic operator update, the parameters in the <code>ClusterServiceVersion</code> will be reset to default.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Installing an operator with <strong>Manual approval</strong> causes all operators installed in namespace <code>openshift-operators</code> to function as <a href=https://docs.openshift.com/container-platform/4.11/operators/user/olm-installing-operators-in-namespace.html>manual approval strategy</a>. In case the <strong>Manual approval</strong> is chosen, review the manual installation plan and approve it.</p> </div> <p> <figure><a data-caption="Cert-Manager Installation" data-fancybox=gallery href=../../assets/operator-guide/ssl-okd-config-02.png><img alt="Cert-Manager Installation" src=../../assets/operator-guide/ssl-okd-config-02.png title="Cert-Manager Installation" width=600px></a><figcaption>Cert-Manager Installation</figcaption> </figure> </p> </li> <li> <p>Navigate to <strong>Operators</strong> â†’ <strong>Installed Operators</strong> and check the operator status to be <strong>Succeeded</strong>:</p> <p> <figure><a data-caption="Cert-Manager Installation" data-fancybox=gallery href=../../assets/operator-guide/ssl-okd-config-03.png><img alt="Cert-Manager Installation" src=../../assets/operator-guide/ssl-okd-config-03.png title="Cert-Manager Installation" width=600px></a><figcaption>Cert-Manager Installation</figcaption> </figure> </p> </li> <li> <p>In case of errors, <a href=https://docs.openshift.com/container-platform/4.11/operators/admin/olm-status.html>troubleshoot</a> the Operator issues:</p> <div class=highlight><pre><span></span><code>oc describe operator cert-manager -n openshift-operators
oc describe sub cert-manager -n openshift-operators
</code></pre></div> </li> </ol> <h3 id=create-aws-role-for-route53>Create AWS Role for Route53<a class=headerlink href=#create-aws-role-for-route53 title="Permanent link">âš“ï¸Ž</a></h3> <p>The <code>cert-manager</code> should be configured to validate Wildcard certificates using the <a href=https://cert-manager.io/docs/tutorials/acme/dns-validation/ >DNS-based</a> method.<br></p> <ol> <li> <p>Check the DNS <strong>Hosted zone ID</strong> in AWS Route53 for your domain.</p> <p> <figure><a data-caption="Hosted Zone ID" data-fancybox=gallery href=../../assets/operator-guide/ssl-okd-config-04.png><img alt="Hosted Zone ID" src=../../assets/operator-guide/ssl-okd-config-04.png title="Hosted Zone ID" width=600px></a><figcaption>Hosted Zone ID</figcaption> </figure> </p> </li> <li> <p>Create <a href=https://cert-manager.io/docs/configuration/acme/dns01/route53/#set-up-an-iam-role>Route53 Permissions policy</a> in AWS for <code>cert-manager</code> to be able to create DNS TXT records for the certificate validation. In this example, <code>cert-manager</code> permissions are given for a particular DNS zone only. Replace <strong>Hosted zone ID</strong> <em>XXXXXXXX</em> in the <em>"Resource": "arn:aws:route53:::hostedzone/XXXXXXXXXXXX"</em>.</p> <div class=highlight><pre><span></span><code><span class=p>{</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;Version&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;2012-10-17&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;Statement&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w></span>
<span class=w>    </span><span class=p>{</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;Effect&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Allow&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;Action&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;route53:GetChange&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;Resource&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;arn:aws:route53:::change/*&quot;</span><span class=w></span>
<span class=w>    </span><span class=p>},</span><span class=w></span>
<span class=w>    </span><span class=p>{</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;Effect&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Allow&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;Action&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w></span>
<span class=w>        </span><span class=s2>&quot;route53:ChangeResourceRecordSets&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>        </span><span class=s2>&quot;route53:ListResourceRecordSets&quot;</span><span class=w></span>
<span class=w>      </span><span class=p>],</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;Resource&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;arn:aws:route53:::hostedzone/XXXXXXXXXXXX&quot;</span><span class=w></span>
<span class=w>    </span><span class=p>}</span><span class=w></span>
<span class=w>  </span><span class=p>]</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div> </li> <li> <p>Create an AWS Role with <strong>Custom trust policy</strong> for the <code>cert-manager</code> service account to use the <a href=https://cert-manager.io/docs/configuration/acme/dns01/route53/#eks-iam-role-for-service-accounts-irsa>AWS IRSA</a> feature and then attach the created policy. Replace the following:<br></p> <ul> <li><code>${aws-account-id}</code> with the AWS account ID of the EKS cluster.<br></li> <li><code>${aws-region}</code> with the region where the EKS cluster is located.<br></li> <li><code>${eks-hash}</code> with the hash in the EKS API URL; this will be a random 32 character hex string, for example, 45DABD88EEE3A227AF0FA468BE4EF0B5.<br></li> <li><code>${namespace}</code> with the namespace where cert-manager is running.<br></li> <li><code>${service-account-name}</code> with the name of the ServiceAccount object created by cert-manager.<br></li> <li>By default, it is <em>"system:serviceaccount:openshift-operators:cert-manager"</em> if <code>cert-manager</code> is installed via OperatorHub.<br></li> <li>Attach the created <strong>Permission policy</strong> for Route53 to the Role.</li> <li> <p>Optionally, add <strong>Permissions boundary</strong> to the Role.</p> <div class=highlight><pre><span></span><code><span class=p>{</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;Version&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;2012-10-17&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;Statement&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w></span>
<span class=w>    </span><span class=p>{</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;Effect&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Allow&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;Action&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;sts:AssumeRoleWithWebIdentity&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;Principal&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>        </span><span class=nt>&quot;Federated&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;arn:aws:iam::* ${aws-account-id}:oidc-provider/oidc.eks.${aws-region}.amazonaws.com/id/${eks-hash}&quot;</span><span class=w></span>
<span class=w>      </span><span class=p>},</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;Condition&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>        </span><span class=nt>&quot;StringEquals&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>          </span><span class=nt>&quot;oidc.eks.${aws-region}.amazonaws.com/id/${eks-hash}:sub&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;system:serviceaccount:${namespace}:${service-account-name}&quot;</span><span class=w></span>
<span class=w>        </span><span class=p>}</span><span class=w></span>
<span class=w>      </span><span class=p>}</span><span class=w></span>
<span class=w>    </span><span class=p>}</span><span class=w></span>
<span class=w>  </span><span class=p>]</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div> </li> </ul> </li> <li> <p>Copy the created <strong>Role ARN</strong>.</p> </li> </ol> <h3 id=configure-cert-manager-integration-with-aws-route53>Configure Cert-Manager Integration With AWS Route53<a class=headerlink href=#configure-cert-manager-integration-with-aws-route53 title="Permanent link">âš“ï¸Ž</a></h3> <ol> <li> <p><a href=https://cert-manager.io/docs/configuration/acme/dns01/route53/#service-annotation>Annotate</a> the <code>ServiceAccount</code> created by <code>cert-manager</code> (required for <a href=https://docs.aws.amazon.com/eks/latest/userguide/iam-roles-for-service-accounts.html>AWS IRSA</a>), and restart the <code>cert-manager</code> pod.</p> </li> <li> <p>Replace the <code>eks.amazonaws.com/role-arn</code> annotation value with your own Role ARN.</p> <div class=highlight><pre><span></span><code>oc edit sa cert-manager -n openshift-operators
</code></pre></div> <div class=highlight><pre><span></span><code><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span><span class=w></span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ServiceAccount</span><span class=w></span>
<span class=nt>metadata</span><span class=p>:</span><span class=w></span>
<span class=w>  </span><span class=nt>annotations</span><span class=p>:</span><span class=w></span>
<span class=hll><span class=w>    </span><span class=nt>eks.amazonaws.com/role-arn</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">arn:aws:iam::XXXXXXXXXXXX:role/cert-manager</span><span class=w></span>
</span></code></pre></div> </li> <li> <p>Modify the <code>cert-manager</code> <code>Deployment</code> with the correct file system permissions <code>fsGroup: 1001</code>, so that the <code>ServiceAccount</code> token can be read.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>In case the <code>ServiceAccount</code> token cannot be read and the operator is installed using the OperatorHub, add <code>fsGroup: 1001</code> via OpenShift <a href=https://cert-manager.io/docs/installation/operator-lifecycle-manager/#configuration-via-clusterserviceversion-csv>ClusterServiceVersion</a> OLM resource. It should be a <code>cert-manager</code> controller spec. These actions are not required for OpenShift v4.10.</p> </div> <div class=highlight><pre><span></span><code>oc get csv
oc edit csv cert-manager.<span class=si>${</span><span class=nv>VERSION</span><span class=si>}</span>
</code></pre></div> <div class=highlight><pre><span></span><code><span class=nt>spec</span><span class=p>:</span><span class=w></span>
<span class=w>  </span><span class=nt>template</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>spec</span><span class=p>:</span><span class=w></span>
<span class=w>      </span><span class=nt>securityContext</span><span class=p>:</span><span class=w></span>
<span class=hll><span class=w>        </span><span class=nt>fsGroup</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1001</span><span class=w></span>
</span><span class=w>      </span><span class=nt>serviceAccountName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">cert-manager</span><span class=w></span>
</code></pre></div> <p> <figure><a data-caption="Cert-Manager System Permissions" data-fancybox=gallery href=../../assets/operator-guide/ssl-okd-config-05.png><img alt="Cert-Manager System Permissions" src=../../assets/operator-guide/ssl-okd-config-05.png title="Cert-Manager System Permissions" width=600px></a><figcaption>Cert-Manager System Permissions</figcaption> </figure> </p> <div class="admonition info"> <p class=admonition-title>Info</p> <p>A mutating admission controller will automatically modify all pods running with the service account:</p> <p><details> <summary><b>cert-manager controller pod</b></summary> <div class=highlight><pre><span></span><code><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">apps/v1</span><span class=w></span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Pod</span><span class=w></span>
<span class=c1># ...</span><span class=w></span>
<span class=nt>spec</span><span class=p>:</span><span class=w></span>
<span class=w>  </span><span class=c1># ...</span><span class=w></span>
<span class=w>  </span><span class=nt>serviceAccountName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">cert-manager</span><span class=w></span>
<span class=w>  </span><span class=nt>serviceAccount</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">cert-manager</span><span class=w></span>
<span class=w>  </span><span class=nt>containers</span><span class=p>:</span><span class=w></span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">...</span><span class=w></span>
<span class=w>    </span><span class=c1># ...</span><span class=w></span>
<span class=w>    </span><span class=nt>env</span><span class=p>:</span><span class=w></span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">AWS_ROLE_ARN</span><span class=w></span>
<span class=w>        </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">&gt;-</span><span class=w></span>
<span class=w>          </span><span class=no>arn:aws:iam::XXXXXXXXXXX:role/cert-manager</span><span class=w></span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">AWS_WEB_IDENTITY_TOKEN_FILE</span><span class=w></span>
<span class=w>        </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/var/run/secrets/eks.amazonaws.com/serviceaccount/token</span><span class=w></span>
<span class=w>    </span><span class=nt>volumeMounts</span><span class=p>:</span><span class=w></span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">aws-iam-token</span><span class=w></span>
<span class=w>        </span><span class=nt>readOnly</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class=w></span>
<span class=w>        </span><span class=nt>mountPath</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/var/run/secrets/eks.amazonaws.com/serviceaccount</span><span class=w></span>
<span class=w>  </span><span class=nt>volumes</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">aws-iam-token</span><span class=w></span>
<span class=w>      </span><span class=nt>projected</span><span class=p>:</span><span class=w></span>
<span class=w>        </span><span class=nt>sources</span><span class=p>:</span><span class=w></span>
<span class=w>          </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>serviceAccountToken</span><span class=p>:</span><span class=w></span>
<span class=w>              </span><span class=nt>audience</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">sts.amazonaws.com</span><span class=w></span>
<span class=w>              </span><span class=nt>expirationSeconds</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">86400</span><span class=w></span>
<span class=w>              </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">token</span><span class=w></span>
<span class=w>        </span><span class=nt>defaultMode</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">420</span><span class=w></span>
</code></pre></div> </details></p> </div> </li> <li> <p>If you have separate public and private DNS zones for the same domain (split-horizon DNS), modify the <code>cert-manager</code> <code>Deployment</code> in order to validate DNS TXT records via <a href=https://cert-manager.io/docs/configuration/acme/dns01/#setting-nameservers-for-dns01-self-check>public recursive nameservers</a>.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Otherwise, you will be getting an error during a record validation:</p> <p><div class=highlight><pre><span></span><code>Waiting <span class=k>for</span> DNS-01 challenge propagation: NS ns-123.awsdns-00.net.:53 returned REFUSED <span class=k>for</span> _acme-challenge.
</code></pre></div> To avoid the error, add <code>--dns01-recursive-nameservers-only --dns01-recursive-nameservers=8.8.8.8:53,1.1.1.1:53</code> as ARGs to the <code>cert-manager</code> controller <code>Deployment</code>.</p> </div> <div class=highlight><pre><span></span><code>oc get csv
oc edit csv cert-manager.<span class=si>${</span><span class=nv>VERSION</span><span class=si>}</span>
</code></pre></div> <div class=highlight><pre><span></span><code><span class=w>  </span><span class=nt>labels</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">cert-manager</span><span class=w></span>
<span class=w>    </span><span class=nt>app.kubernetes.io/component</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">controller</span><span class=w></span>
<span class=w>    </span><span class=nt>app.kubernetes.io/instance</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">cert-manager</span><span class=w></span>
<span class=w>    </span><span class=nt>app.kubernetes.io/name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">cert-manager</span><span class=w></span>
<span class=w>    </span><span class=nt>app.kubernetes.io/version</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1.9.1</span><span class=w></span>
<span class=nt>spec</span><span class=p>:</span><span class=w></span>
<span class=w>  </span><span class=nt>containers</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>args</span><span class=p>:</span><span class=w></span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&#39;--v=2&#39;</span><span class=w></span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&#39;--cluster-resource-namespace=$(POD_NAMESPACE)&#39;</span><span class=w></span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&#39;--leader-election-namespace=kube-system&#39;</span><span class=w></span>
<span class=hll><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&#39;--dns01-recursive-nameservers-only&#39;</span><span class=w></span>
</span><span class=hll><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&#39;--dns01-recursive-nameservers=8.8.8.8:53,1.1.1.1:53&#39;</span><span class=w></span>
</span></code></pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>The <code>Deployment</code> must be modified via OpenShift <a href=https://cert-manager.io/docs/installation/operator-lifecycle-manager/#configuration-via-clusterserviceversion-csv>ClusterServiceVersion</a> OLM resource if the operator was installed using the OperatorHub. The OpenShift <code>ClusterServiceVersion</code> OLM resource includes several Deployments, and the ARGs must be modified only for the <code>cert-manager</code> controller.</p> </div> <ul> <li>Save the resource. After that, OLM will try to reload the resource automatically and save it to the YAML file. If OLM resets the config file, double-check the entered values.</li> </ul> <p> <figure><a data-caption="Cert-Manager Nameservers" data-fancybox=gallery href=../../assets/operator-guide/ssl-okd-config-06.png><img alt="Cert-Manager Nameservers" src=../../assets/operator-guide/ssl-okd-config-06.png title="Cert-Manager Nameservers" width=600px></a><figcaption>Cert-Manager Nameservers</figcaption> </figure> </p> </li> </ol> <h3 id=configure-clusterissuers>Configure ClusterIssuers<a class=headerlink href=#configure-clusterissuers title="Permanent link">âš“ï¸Ž</a></h3> <p><code>ClusterIssuer</code> is available on the whole cluster.<br></p> <ol> <li> <p>Create the <a href=https://cert-manager.io/docs/configuration/acme/ >ClusterIssuer</a> resource for Let's Encrypt Staging and Prod environments that signs a Certificate using <code>cert-manager</code>.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Let's Encrypt has a <a href=https://letsencrypt.org/docs/duplicate-certificate-limit/ >limit</a> of duplicate certificates in the Prod environment. Therefore, a <code>ClusterIssuer</code> has been created for <a href=https://letsencrypt.org/docs/staging-environment/ >Let's Encrypt Staging</a> environment. By default, Let's Encrypt Staging certificates will not be trusted in your browser. The certificate validation cannot be tested in the Let's Encrypt Staging environment.</p> </div> <ul> <li>Change <code>user@example.com</code> with your contact email.</li> <li>Replace <code>hostedZoneID</code> XXXXXXXXXXX with the DNS <strong>Hosted zone ID</strong> in AWS for your domain.</li> <li>Replace the region value <code>${region}</code>.</li> <li>The secret under <code>privateKeySecretRef</code> will be created automatically by the <code>cert-manager</code> operator.</li> </ul> <div class=highlight><pre><span></span><code><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">cert-manager.io/v1</span><span class=w></span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ClusterIssuer</span><span class=w></span>
<span class=nt>metadata</span><span class=p>:</span><span class=w></span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">letsencrypt-staging</span><span class=w></span>
<span class=nt>spec</span><span class=p>:</span><span class=w></span>
<span class=w>  </span><span class=nt>acme</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>email</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">user@example.com</span><span class=w></span>
<span class=w>    </span><span class=nt>server</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">https://acme-staging-v02.api.letsencrypt.org/directory</span><span class=w></span>
<span class=w>    </span><span class=nt>privateKeySecretRef</span><span class=p>:</span><span class=w></span>
<span class=w>      </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">letsencrypt-staging-issuer-account-key</span><span class=w></span>
<span class=w>    </span><span class=nt>solvers</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>dns01</span><span class=p>:</span><span class=w></span>
<span class=w>        </span><span class=nt>route53</span><span class=p>:</span><span class=w></span>
<span class=w>          </span><span class=nt>region</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">${region}</span><span class=w></span>
<span class=w>          </span><span class=nt>hostedZoneID</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">XXXXXXXXXXX</span><span class=w></span>
</code></pre></div> <div class=highlight><pre><span></span><code><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">cert-manager.io/v1</span><span class=w></span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ClusterIssuer</span><span class=w></span>
<span class=nt>metadata</span><span class=p>:</span><span class=w></span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">letsencrypt-prod</span><span class=w></span>
<span class=nt>spec</span><span class=p>:</span><span class=w></span>
<span class=w>  </span><span class=nt>acme</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>email</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">user@example.com</span><span class=w></span>
<span class=w>    </span><span class=nt>server</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">https://acme-v02.api.letsencrypt.org/directory</span><span class=w></span>
<span class=w>    </span><span class=nt>privateKeySecretRef</span><span class=p>:</span><span class=w></span>
<span class=w>      </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">letsencrypt-prod-issuer-account-key</span><span class=w></span>
<span class=w>    </span><span class=nt>solvers</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>dns01</span><span class=p>:</span><span class=w></span>
<span class=w>        </span><span class=nt>route53</span><span class=p>:</span><span class=w></span>
<span class=w>          </span><span class=nt>region</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">${region}</span><span class=w></span>
<span class=w>          </span><span class=nt>hostedZoneID</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">XXXXXXXXXXX</span><span class=w></span>
</code></pre></div> <p> <figure><a data-caption="Cert-Manager ClusterIssuer" data-fancybox=gallery href=../../assets/operator-guide/ssl-okd-config-07.png><img alt="Cert-Manager ClusterIssuer" src=../../assets/operator-guide/ssl-okd-config-07.png title="Cert-Manager ClusterIssuer" width=600px></a><figcaption>Cert-Manager ClusterIssuer</figcaption> </figure> </p> </li> <li> <p>Check the <code>ClusterIssuer</code> status:</p> <p> <figure><a data-caption="Cert-Manager ClusterIssuer" data-fancybox=gallery href=../../assets/operator-guide/ssl-okd-config-08.png><img alt="Cert-Manager ClusterIssuer" src=../../assets/operator-guide/ssl-okd-config-08.png title="Cert-Manager ClusterIssuer" width=600px></a><figcaption>Cert-Manager ClusterIssuer</figcaption> </figure> </p> <div class=highlight><pre><span></span><code>oc describe clusterissuer letsencrypt-prod
oc describe clusterissuer letsencrypt-staging
</code></pre></div> </li> <li> <p>If the <code>ClusterIssuer</code> state is not ready, investigate <code>cert-manager</code> controller pod logs:</p> <div class=highlight><pre><span></span><code>oc get pod -n openshift-operators <span class=p>|</span> grep <span class=s1>&#39;cert-manager&#39;</span>
oc logs -f cert-manager-<span class=si>${</span><span class=nv>replica_set</span><span class=si>}</span>-<span class=si>${</span><span class=nv>random_string</span><span class=si>}</span> -n openshift-operators
</code></pre></div> </li> </ol> <h3 id=configure-certificates>Configure Certificates<a class=headerlink href=#configure-certificates title="Permanent link">âš“ï¸Ž</a></h3> <ol> <li> <p>In two different namespaces, create a <a href=https://cert-manager.io/docs/usage/certificate/ >Certificate</a> resource for the OpenShift Router (Ingress controller for OpenShift) and for the OpenShift APIServer.</p> <ul> <li>OpenShift Router supports a single wildcard certificate for Ingress/Route resources in different namespaces (so called, <a href=https://cert-manager.io/docs/faq/sync-secrets/#serving-a-wildcard-to-ingress-resources-in-different-namespaces-default-ssl-certificate>default SSL certificate</a>). The Ingress controller expects the certificates in a <code>Secret</code> to be created in the <code>openshift-ingress</code> namespace; the API Server, in the <code>openshift-config</code> namespace. The <code>cert-manager</code> operator will automatically create these secrets from the <code>Certificate</code> resource.</li> <li>Replace <code>${DOMAIN}</code> with your domain name. It can be checked with <code>oc whoami --show-server</code>. Put domain names in quotes.</li> </ul> <details> <summary><b>The certificate for OpenShift Router in the `openshift-ingress` namespace</b></summary> <div class=highlight><pre><span></span><code><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">cert-manager.io/v1</span><span class=w></span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Certificate</span><span class=w></span>
<span class=nt>metadata</span><span class=p>:</span><span class=w></span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">router-certs</span><span class=w></span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">openshift-ingress</span><span class=w></span>
<span class=w>  </span><span class=nt>labels</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">cert-manager</span><span class=w></span>
<span class=nt>spec</span><span class=p>:</span><span class=w></span>
<span class=w>  </span><span class=nt>secretName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">router-certs</span><span class=w></span>
<span class=w>  </span><span class=nt>secretTemplate</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>labels</span><span class=p>:</span><span class=w></span>
<span class=w>      </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">cert-manager</span><span class=w></span>
<span class=w>  </span><span class=nt>duration</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">2160h</span><span class=w> </span><span class=c1># 90d</span><span class=w></span>
<span class=w>  </span><span class=nt>renewBefore</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">360h</span><span class=w> </span><span class=c1># 15d</span><span class=w></span>
<span class=w>  </span><span class=nt>subject</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>organizations</span><span class=p>:</span><span class=w></span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Org Name</span><span class=w></span>
<span class=w>  </span><span class=nt>commonName</span><span class=p>:</span><span class=w> </span><span class=s>&#39;*.${DOMAIN}&#39;</span><span class=w></span>
<span class=w>  </span><span class=nt>privateKey</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>algorithm</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">RSA</span><span class=w></span>
<span class=w>    </span><span class=nt>encoding</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">PKCS1</span><span class=w></span>
<span class=w>    </span><span class=nt>size</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">2048</span><span class=w></span>
<span class=w>    </span><span class=nt>rotationPolicy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Always</span><span class=w></span>
<span class=w>  </span><span class=nt>usages</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">server auth</span><span class=w></span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">client auth</span><span class=w></span>
<span class=w>  </span><span class=nt>dnsNames</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&#39;*.${DOMAIN}&#39;</span><span class=w></span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&#39;*.apps.${DOMAIN}&#39;</span><span class=w></span>
<span class=w>  </span><span class=nt>issuerRef</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">letsencrypt-staging</span><span class=w></span>
<span class=w>    </span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ClusterIssuer</span><span class=w></span>
</code></pre></div> </details> <details> <summary><b>The certificate for OpenShift APIServer in the `openshift-config` namespace</b></summary> <div class=highlight><pre><span></span><code><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">cert-manager.io/v1</span><span class=w></span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Certificate</span><span class=w></span>
<span class=nt>metadata</span><span class=p>:</span><span class=w></span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">api-certs</span><span class=w></span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">openshift-config</span><span class=w></span>
<span class=w>  </span><span class=nt>labels</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">cert-manager</span><span class=w></span>
<span class=nt>spec</span><span class=p>:</span><span class=w></span>
<span class=w>  </span><span class=nt>secretName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">api-certs</span><span class=w></span>
<span class=w>  </span><span class=nt>secretTemplate</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>labels</span><span class=p>:</span><span class=w></span>
<span class=w>      </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">cert-manager</span><span class=w></span>
<span class=w>  </span><span class=nt>duration</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">2160h</span><span class=w> </span><span class=c1># 90d</span><span class=w></span>
<span class=w>  </span><span class=nt>renewBefore</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">360h</span><span class=w> </span><span class=c1># 15d</span><span class=w></span>
<span class=w>  </span><span class=nt>subject</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>organizations</span><span class=p>:</span><span class=w></span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Org Name</span><span class=w></span>
<span class=w>  </span><span class=nt>commonName</span><span class=p>:</span><span class=w> </span><span class=s>&#39;*.${DOMAIN}&#39;</span><span class=w></span>
<span class=w>  </span><span class=nt>privateKey</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>algorithm</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">RSA</span><span class=w></span>
<span class=w>    </span><span class=nt>encoding</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">PKCS1</span><span class=w></span>
<span class=w>    </span><span class=nt>size</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">2048</span><span class=w></span>
<span class=w>    </span><span class=nt>rotationPolicy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Always</span><span class=w></span>
<span class=w>  </span><span class=nt>usages</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">server auth</span><span class=w></span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">client auth</span><span class=w></span>
<span class=w>  </span><span class=nt>dnsNames</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&#39;*.${DOMAIN}&#39;</span><span class=w></span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&#39;*.apps.${DOMAIN}&#39;</span><span class=w></span>
<span class=w>  </span><span class=nt>issuerRef</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">letsencrypt-staging</span><span class=w></span>
<span class=w>    </span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ClusterIssuer</span><span class=w></span>
</code></pre></div> </details> <div class="admonition info"> <p class=admonition-title>Info</p> <ul> <li> <p><code>cert-manager</code> supports <a href=https://cert-manager.io/docs/faq/#is-ecc-elliptic-curve-cryptography-supported>ECDSA</a> key pairs in the <code>Certificate</code> resource. To use it, change RSA <code>privateKey</code> to ECDSA:</p> <div class=highlight><pre><span></span><code><span class=nt>privateKey</span><span class=p>:</span><span class=w></span>
<span class=w>  </span><span class=nt>algorithm</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ECDSA</span><span class=w></span>
<span class=w>  </span><span class=nt>encoding</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">PKCS1</span><span class=w></span>
<span class=w>  </span><span class=nt>size</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">256</span><span class=w></span>
<span class=w>  </span><span class=nt>rotationPolicy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Always</span><span class=w></span>
</code></pre></div> </li> </ul> <ul> <li><code>rotationPolicy: Always</code> is highly recommended since <code>cert-manager</code> does not <a href=https://cert-manager.io/docs/usage/certificate/#the-rotationpolicy-setting>rotate private keys</a> by default.</li> <li>Full <code>Certificate</code> spec is described in the <code>cert-manager</code> <a href=https://cert-manager.io/docs/reference/api-docs/#cert-manager.io/v1.CertificateSpec>API documentation</a>.</li> </ul> </div> </li> <li> <p>Check that the certificates in the namespaces are ready:</p> <p> <figure><a data-caption="Cert-Manager Certificate Status" data-fancybox=gallery href=../../assets/operator-guide/ssl-okd-config-09.png><img alt="Cert-Manager Certificate Status" src=../../assets/operator-guide/ssl-okd-config-09.png title="Cert-Manager Certificate Status" width=600px></a><figcaption>Cert-Manager Certificate Status</figcaption> </figure> </p> <p> <figure><a data-caption="Cert-Manager Certificate Status" data-fancybox=gallery href=../../assets/operator-guide/ssl-okd-config-10.png><img alt="Cert-Manager Certificate Status" src=../../assets/operator-guide/ssl-okd-config-10.png title="Cert-Manager Certificate Status" width=600px></a><figcaption>Cert-Manager Certificate Status</figcaption> </figure> </p> </li> <li> <p>Check the details of the certificates via CLI:</p> <div class=highlight><pre><span></span><code>oc describe certificate api-certs -n openshift-config
oc describe certificate router-certs -n openshift-ingress
</code></pre></div> </li> <li> <p>Check the cert-manager controller pod logs if the Staging Certificate condition is not ready for more than 7 minutes:</p> <div class=highlight><pre><span></span><code>oc get pod -n openshift-operators <span class=p>|</span> grep <span class=s1>&#39;cert-manager&#39;</span>
oc logs -f cert-manager-<span class=si>${</span><span class=nv>replica_set</span><span class=si>}</span>-<span class=si>${</span><span class=nv>random_string</span><span class=si>}</span> -n openshift-operators
</code></pre></div> </li> <li> <p>When the certificate is ready, its private key will be put into the OpenShift <code>Secret</code> in the namespace indicated in the <code>Certificate</code> resource:</p> <div class=highlight><pre><span></span><code>oc describe secret api-certs -n openshift-config
oc describe secret router-certs -n openshift-ingress
</code></pre></div> </li> </ol> <h3 id=modify-openshift-router-and-api-server-custom-resources>Modify OpenShift Router and API Server Custom Resources<a class=headerlink href=#modify-openshift-router-and-api-server-custom-resources title="Permanent link">âš“ï¸Ž</a></h3> <ol> <li> <p>Update the Custom Resource of your Router (Ingress controller). Patch the <code>defaultCertificate</code> object value with <code>{ "name": "router-certs" }</code>:</p> <div class=highlight><pre><span></span><code>oc patch ingresscontroller default -n openshift-ingress-operator --type<span class=o>=</span>merge --patch<span class=o>=</span><span class=s1>&#39;{&quot;spec&quot;: { &quot;defaultCertificate&quot;: { &quot;name&quot;: &quot;router-certs&quot; }}}&#39;</span> --insecure-skip-tls-verify
</code></pre></div> <div class="admonition info"> <p class=admonition-title>Info</p> <p>After updating the <code>IngressController</code> object, the OpenShift Ingress operator redeploys the router.</p> </div> </li> <li> <p>Update the Custom Resource for the OpenShift API Server:<br></p> <ul> <li> <p>Export the name of <code>APIServer</code>:</p> <div class=highlight><pre><span></span><code><span class=nb>export</span> <span class=nv>OKD_API</span><span class=o>=</span><span class=k>$(</span>oc whoami --show-server --insecure-skip-tls-verify <span class=p>|</span> cut -f <span class=m>2</span> -d <span class=s1>&#39;:&#39;</span> <span class=p>|</span> cut -f <span class=m>3</span> -d <span class=s1>&#39;/&#39;</span> <span class=p>|</span> sed <span class=s1>&#39;s/-api././&#39;</span><span class=k>)</span>
</code></pre></div> </li> </ul> <ul> <li> <p>Patch the <code>servingCertificate</code> object value with <code>{ "name": "api-certs" }</code>:</p> <div class=highlight><pre><span></span><code>oc patch apiserver cluster --type merge --patch<span class=o>=</span><span class=s2>&quot;{\&quot;spec\&quot;: {\&quot;servingCerts\&quot;: {\&quot;namedCertificates\&quot;: [ { \&quot;names\&quot;: [  \&quot;</span><span class=nv>$OKD_API</span><span class=s2>\&quot;  ], \&quot;servingCertificate\&quot;: {\&quot;name\&quot;: \&quot;api-certs\&quot; }}]}}}&quot;</span> --insecure-skip-tls-verify
</code></pre></div> </li> </ul> </li> </ol> <h3 id=move-from-lets-encrypt-staging-environment-to-prod>Move From Let's Encrypt Staging Environment to Prod<a class=headerlink href=#move-from-lets-encrypt-staging-environment-to-prod title="Permanent link">âš“ï¸Ž</a></h3> <ol> <li> <p>Test the Staging certificate on the OpenShift Admin Console. The <code>--insecure</code> flag is used because Let's Encrypt Staging certificates are not trusted in browsers by default:</p> <div class=highlight><pre><span></span><code>curl -v --insecure https://console-openshift-console.apps.<span class=si>${</span><span class=nv>DOMAIN</span><span class=si>}</span>
</code></pre></div> </li> <li> <p>Change <code>issuerRef</code> to <code>letsencrypt-prod</code> in both <code>Certificate</code> resources:</p> <div class=highlight><pre><span></span><code>oc edit certificate api-certs -n openshift-config
oc edit certificate router-certs -n openshift-ingress
</code></pre></div> <div class=highlight><pre><span></span><code><span class=nt>issuerRef</span><span class=p>:</span><span class=w></span>
<span class=hll><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">letsencrypt-prod</span><span class=w></span>
</span><span class=w>  </span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ClusterIssuer</span><span class=w></span>
</code></pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>In case the certificate reissue is not triggered after that, try to force the certificate renewal with <a href=https://cert-manager.io/docs/usage/cmctl/ >cmctl</a>:</p> <div class=highlight><pre><span></span><code>cmctl renew router-certs -n openshift-ingress
cmctl renew api-certs -n openshift-config
</code></pre></div> <p>If this won't work, delete the <code>api-certs</code> and <code>router-certs</code> secrets. It should trigger the Prod certificates issuance:</p> <div class=highlight><pre><span></span><code>oc delete secret router-certs -n openshift-ingress
oc delete secret api-certs -n openshift-config
</code></pre></div> <p>Please note that these actions will lead to logging your account out of the OpenShift Admin Console, since certificates will be deleted. Accept the certificate warning in the browser and log in again after that.<br></p> </div> </li> <li> <p>Check the status of the Prod certificates:</p> <div class=highlight><pre><span></span><code>oc describe certificate api-certs -n openshift-config
oc describe certificate router-certs -n openshift-ingress
</code></pre></div> <div class=highlight><pre><span></span><code>cmctl status certificate api-certs -n openshift-config
cmctl status certificate router-certs -n openshift-ingress
</code></pre></div> </li> <li> <p>Check the web console and make sure it has secure connection:</p> <div class=highlight><pre><span></span><code>curl -v https://console-openshift-console.apps.<span class=si>${</span><span class=nv>DOMAIN</span><span class=si>}</span>
</code></pre></div> </li> </ol> <h3 id=troubleshoot-certificates>Troubleshoot Certificates<a class=headerlink href=#troubleshoot-certificates title="Permanent link">âš“ï¸Ž</a></h3> <p>Below is an example of the DNS TXT <code>challenge</code> record created by the <code>cert-manager</code> operator:</p> <p> <figure><a data-caption="DNS Validation" data-fancybox=gallery href=../../assets/operator-guide/ssl-okd-config-11.png><img alt="DNS Validation" src=../../assets/operator-guide/ssl-okd-config-11.png title="DNS Validation" width=600px></a><figcaption>DNS Validation</figcaption> </figure> </p> <p>Use <code>nslookup</code> or <code>dig</code> tools to check if the DNS propagation for the TXT record is complete:</p> <div class=highlight><pre><span></span><code>nslookup -type<span class=o>=</span>txt _acme-challenge.<span class=si>${</span><span class=nv>DOMAIN</span><span class=si>}</span>
dig txt _acme-challenge.<span class=si>${</span><span class=nv>DOMAIN</span><span class=si>}</span>
</code></pre></div> <p>Otherwise, use web tools like <a href=https://toolbox.googleapps.com/apps/dig/#TXT/ >Google Admin Toolbox</a>:</p> <p> <figure><a data-caption="DNS Validation" data-fancybox=gallery href=../../assets/operator-guide/ssl-okd-config-12.png><img alt="DNS Validation" src=../../assets/operator-guide/ssl-okd-config-12.png title="DNS Validation" width=600px></a><figcaption>DNS Validation</figcaption> </figure> </p> <p>If the correct TXT value is shown (the value corresponds to the current TXT value in the DNS zone), it means that the DNS propagation is complete and Let's Encrypt is able to access the record in order to validate it and issue a trusted certificate.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>If the DNS validation challenge self check fails, <code>cert-manager</code> will retry the self check with a fixed 10-second retry interval. <a href=https://cert-manager.io/docs/concepts/acme-orders-challenges/#challenge-lifecycle>Challenges</a> that do not ever complete the self check will continue retrying until the user intervenes by either retrying the <code>Order</code> (by deleting the <code>Order</code> resource) or amending the associated <code>Certificate</code> resource to resolve any configuration errors.</p> </div> <p>As soon as the domain ownership has been verified, any <code>cert-manager</code> affected validation TXT records in the AWS Route53 DNS zone will be cleaned up.</p> <p>Please find below the issues that may occur and their troubleshooting:</p> <ul> <li>When certificates are not issued for a long time, or a <code>cert-manager</code> resource is not in a Ready state, <a href=https://cert-manager.io/docs/faq/troubleshooting/ >describing</a> a resource may show the reason for the error.</li> </ul> <ul> <li>Basically, the <code>cert-manager</code> creates the following resources during a <code>Certificate</code> issuance: <code>CertificateRequest</code>, <code>Order</code>, and <code>Challenge</code>. <a href=https://cert-manager.io/docs/faq/acme/ >Investigate</a> each of them in case of errors.</li> </ul> <ul> <li>Use the <a href=https://cert-manager.io/docs/usage/cmctl/ >cmctl</a> tool to show the state of a <code>Certificate</code> and its associated resources.</li> </ul> <ul> <li> <p>Check the <code>cert-manager</code> controller pod logs:</p> <div class=highlight><pre><span></span><code>oc get pod -n openshift-operators <span class=p>|</span> grep <span class=s1>&#39;cert-manager&#39;</span>
oc logs -f cert-manager-<span class=si>${</span><span class=nv>replica_set</span><span class=si>}</span>-<span class=si>${</span><span class=nv>random_string</span><span class=si>}</span> -n openshift-operators
</code></pre></div> </li> </ul> <ul> <li> <p>Certificate error debugging:<br> a. Decode certificate chain located in the secrets:</p> <div class=highlight><pre><span></span><code>oc get secret router-certs -n openshift-ingress -o <span class=s1>&#39;go-template={{index .data &quot;tls.crt&quot;}}&#39;</span> <span class=p>|</span> base64 -d <span class=p>|</span> <span class=k>while</span> openssl x509 -noout -text<span class=p>;</span> <span class=k>do</span> :<span class=p>;</span> <span class=k>done</span> <span class=m>2</span>&gt;/dev/null
oc get secret api-certs -n openshift-config -o <span class=s1>&#39;go-template={{index .data &quot;tls.crt&quot;}}&#39;</span> <span class=p>|</span> base64 -d <span class=p>|</span> <span class=k>while</span> openssl x509 -noout -text<span class=p>;</span> <span class=k>do</span> :<span class=p>;</span> <span class=k>done</span> <span class=m>2</span>&gt;/dev/null
</code></pre></div> <div class=highlight><pre><span></span><code>cmctl inspect secret router-certs -n openshift-ingress
cmctl inspect secret api-certs -n openshift-config
</code></pre></div> <p>b. Check the SSL RSA private key consistency:</p> <div class=highlight><pre><span></span><code>oc get secret router-certs -n openshift-ingress -o <span class=s1>&#39;go-template={{index .data &quot;tls.key&quot;}}&#39;</span> <span class=p>|</span> base64 -d <span class=p>|</span> openssl rsa -check -noout
oc get secret api-certs -n openshift-config -o <span class=s1>&#39;go-template={{index .data &quot;tls.key&quot;}}&#39;</span> <span class=p>|</span> base64 -d <span class=p>|</span> openssl rsa -check -noout
</code></pre></div> <p>c. Match the SSL certificate public key against its RSA private key. Their modulus must be identical:</p> <div class=highlight><pre><span></span><code>diff &lt;<span class=o>(</span>oc get secret api-certs -n openshift-config -o <span class=s1>&#39;go-template={{index .data &quot;tls.crt&quot;}}&#39;</span> <span class=p>|</span> base64 -d <span class=p>|</span> openssl x509 -noout -modulus <span class=p>|</span> openssl md5<span class=o>)</span> &lt;<span class=o>(</span>oc get secret api-certs -n openshift-config -o <span class=s1>&#39;go-template={{index .data &quot;tls.key&quot;}}&#39;</span> <span class=p>|</span> base64 -d <span class=p>|</span> openssl rsa -noout -modulus <span class=p>|</span> openssl md5<span class=o>)</span>
diff &lt;<span class=o>(</span>oc get secret router-certs -n openshift-ingress -o <span class=s1>&#39;go-template={{index .data &quot;tls.crt&quot;}}&#39;</span> <span class=p>|</span> base64 -d <span class=p>|</span> openssl x509 -noout -modulus <span class=p>|</span> openssl md5<span class=o>)</span> &lt;<span class=o>(</span>oc get secret router-certs -n openshift-ingress -o <span class=s1>&#39;go-template={{index .data &quot;tls.key&quot;}}&#39;</span> <span class=p>|</span> base64 -d <span class=p>|</span> openssl rsa -noout -modulus <span class=p>|</span> openssl md5<span class=o>)</span>
</code></pre></div> </li> </ul> <h3 id=remove-obsolete-certificate-authority-data-from-kubeconfig>Remove Obsolete Certificate Authority Data From Kubeconfig<a class=headerlink href=#remove-obsolete-certificate-authority-data-from-kubeconfig title="Permanent link">âš“ï¸Ž</a></h3> <p>After updating the certificates, the access to the cluster via Lens or CLI will be denied because of the untrusted certificate errors:</p> <div class=highlight><pre><span></span><code>$ oc whoami
Unable to connect to the server: x509: certificate signed by unknown authority
</code></pre></div> <p>Such behavior appears because the <code>oc</code> tool references an old CA data in the kubeconfig file.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Examine the Certificate Authority data using the following command:</p> <div class=highlight><pre><span></span><code>oc config view --minify --raw -o <span class=nv>jsonpath</span><span class=o>=</span><span class=s1>&#39;{.clusters[].cluster.certificate-authority-data}&#39;</span> <span class=p>|</span> base64 -d <span class=p>|</span> openssl x509 -text
</code></pre></div> <p>This certificate has the <code>CA:TRUE</code> parameter, which means that this is a self-signed root CA certificate.</p> </div> <p>To fix the error, remove the old CA data from your OpenShift kubeconfig file:</p> <div class=highlight><pre><span></span><code>sed -i <span class=s2>&quot;/certificate-authority-data/d&quot;</span> <span class=nv>$KUBECONFIG</span>
</code></pre></div> <p>Since this field will be absent in the kubeconfig file, system root SSL certificate will be used to validate the cluster certificate trust chain. On Ubuntu, Let's Encrypt OpenShift cluster certificates will be validated against <code>Internet Security Research Group</code> root in <code>/etc/ssl/certs/ca-certificates.crt</code>.</p> <h3 id=certificate-renewals>Certificate Renewals<a class=headerlink href=#certificate-renewals title="Permanent link">âš“ï¸Ž</a></h3> <p>The <code>cert-manager</code> automatically <a href=https://cert-manager.io/docs/usage/certificate/#renewal>renews</a> the certificates based on the X.509 certificate's duration and the <code>renewBefore</code> value. The minimum value for the <code>spec.duration</code> is 1 hour; for <code>spec.renewBefore</code>, 5 minutes. It is also required that <code>spec.duration</code> &gt; <code>spec.renewBefore</code>.</p> <p>Use the <a href=https://cert-manager.io/docs/usage/cmctl/ >cmctl</a> tool to manually trigger a single instant certificate renewal:</p> <div class=highlight><pre><span></span><code>cmctl renew router-certs -n openshift-ingress
cmctl renew api-certs -n openshift-config
</code></pre></div> <p>Otherwise, manually renew all certificates in all namespaces with the <code>app=cert-manager</code> label:</p> <div class=highlight><pre><span></span><code>cmctl renew --all-namespaces -l <span class=nv>app</span><span class=o>=</span>cert-manager
</code></pre></div> <p>Run the <code>cmctl renew --help</code> command to get more details.</p> <h2 id=related-articles>Related Articles<a class=headerlink href=#related-articles title="Permanent link">âš“ï¸Ž</a></h2> <ul> <li><a href=https://cert-manager.io/docs/ >Cert-Manager Official Documentation</a></li> <li><a href=https://docs.openshift.com/container-platform/4.11/security/cert_manager_operator/cert-manager-operator-install.html>Installing the Cert-Manager Operator for Red Hat OpenShift</a></li> <li><a href=https://crt.sh/ >Checking Issued Certificate Details</a></li> </ul> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../deploy-okd-4.10/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Deploy OKD 4.10 Cluster" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Deploy OKD 4.10 Cluster </div> </div> </a> <a href=../add-jenkins-agent/ class="md-footer__link md-footer__link--next" aria-label="Next: Manage Jenkins Agent" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Manage Jenkins Agent </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://hub.docker.com/u/epamedp target=_blank rel=noopener title=hub.docker.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-consent data-md-component=consent id=__consent hidden> <div class=md-consent__overlay></div> <aside class=md-consent__inner> <form class="md-consent__form md-grid md-typeset" name=consent> <h4>Cookie consent</h4> <p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p> <input type=checkbox class=md-toggle id=__settings> <div class=md-consent__settings> <ul class=task-list> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=analytics checked> <span class=task-list-indicator></span> Google Analytics <label> </li> </ul> </div> <div class=md-consent__controls> <button class="md-button md-button--primary">Accept</button> <button type=reset class="md-button md-button--primary">Reject</button> </div> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);console.log(new FormData(form)),__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.sections", "navigation.tabs", "navigation.top", "announce.dismiss"], "search": "../../assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script> <script src=../../assets/javascripts/bundle.9c69f0bc.min.js></script> <script src=../../js/mkdocs-charts-plugin.js></script> <script src=https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js></script> <script src=https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js></script> <script src=https://cdn.jsdelivr.net/npm/vega@5></script> <script src=https://cdn.jsdelivr.net/npm/vega-lite@5></script> <script src=https://cdn.jsdelivr.net/npm/vega-embed@6></script> <script src=https://unpkg.com/mermaid@8.14.0/dist/mermaid.min.js></script> </body> </html>