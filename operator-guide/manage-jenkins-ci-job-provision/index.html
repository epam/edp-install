<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://epam.github.io/edp-install/operator-guide/manage-jenkins-ci-job-provision/ rel=canonical><link rel=icon href=../../assets/favicon.png><meta name=generator content="mkdocs-1.3.0, mkdocs-material-8.2.9"><title>Manage Jenkins CI Pipeline Job Provisioner - EPAM Delivery Platform</title><link rel=stylesheet href=../../assets/stylesheets/main.120efc48.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.9647289d.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css><script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-7ZV6PJ2LSP"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&gtag("event","search",{search_term:this.value})}),"undefined"!=typeof location$&&location$.subscribe(function(e){gtag("config","G-7ZV6PJ2LSP",{page_path:e.pathname})})})</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-7ZV6PJ2LSP"></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=cyan data-md-color-accent=blue> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#manage-jenkins-ci-pipeline-job-provisioner class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="EPAM Delivery Platform" class="md-header__button md-logo" aria-label="EPAM Delivery Platform" data-md-component=logo> <img src=../../assets/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> EPAM Delivery Platform </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Manage Jenkins CI Pipeline Job Provisioner </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=cyan data-md-color-accent=blue aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary data-md-color-accent aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/epam/edp-install title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Overview </a> </li> <li class=md-tabs__item> <a href=../../features/ class=md-tabs__link> Basic Concepts </a> </li> <li class=md-tabs__item> <a href=../../getting-started/ class=md-tabs__link> Getting Started </a> </li> <li class=md-tabs__item> <a href=../ class="md-tabs__link md-tabs__link--active"> Operator Guide </a> </li> <li class=md-tabs__item> <a href=../../user-guide/ class=md-tabs__link> User Guide </a> </li> <li class=md-tabs__item> <a href=../../developer-guide/ class=md-tabs__link> Developer Guide </a> </li> <li class=md-tabs__item> <a href=../../roadmap/ class=md-tabs__link> RoadMap </a> </li> <li class=md-tabs__item> <a href=../../use-cases/ class=md-tabs__link> Use Cases </a> </li> <li class=md-tabs__item> <a href=../../faq/ class=md-tabs__link> FAQ </a> </li> <li class=md-tabs__item> <a href=../../glossary/ class=md-tabs__link> Glossary </a> </li> <li class=md-tabs__item> <a href=https://github.com/epam/edp-install/blob/master/RELEASES.md class=md-tabs__link> Releases ⧉ </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="EPAM Delivery Platform" class="md-nav__button md-logo" aria-label="EPAM Delivery Platform" data-md-component=logo> <img src=../../assets/logo.png alt=logo> </a> EPAM Delivery Platform </label> <div class=md-nav__source> <a href=https://github.com/epam/edp-install title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../features/ class=md-nav__link> Basic Concepts </a> </li> <li class=md-nav__item> <a href=../../getting-started/ class=md-nav__link> Getting Started </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4> Operator Guide <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Operator Guide" data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Operator Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2 type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2> Installation <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Installation data-md-level=2> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Installation </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2_1 type=checkbox id=__nav_4_2_1> <label class=md-nav__link for=__nav_4_2_1> Prerequisites <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Prerequisites data-md-level=3> <label class=md-nav__title for=__nav_4_2_1> <span class="md-nav__icon md-icon"></span> Prerequisites </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../install-ingress-nginx/ class=md-nav__link> Install Ingress-nginx </a> </li> <li class=md-nav__item> <a href=../install-keycloak/ class=md-nav__link> Install Keycloak </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2_1_3 type=checkbox id=__nav_4_2_1_3> <label class=md-nav__link for=__nav_4_2_1_3> Kiosk <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Kiosk data-md-level=4> <label class=md-nav__title for=__nav_4_2_1_3> <span class="md-nav__icon md-icon"></span> Kiosk </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../edp-kiosk-usage/ class=md-nav__link> EDP Kiosk Usage </a> </li> <li class=md-nav__item> <a href=../install-kiosk/ class=md-nav__link> Set Up Kiosk </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../kubernetes-cluster-settings/ class=md-nav__link> Set Up Kubernetes </a> </li> <li class=md-nav__item> <a href=../openshift-cluster-settings/ class=md-nav__link> Set Up OpenShift </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../install-edp/ class=md-nav__link> Install EDP </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3 type=checkbox id=__nav_4_3 checked> <label class=md-nav__link for=__nav_4_3> Configuration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Configuration data-md-level=2> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> Configuration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../add-other-code-language/ class=md-nav__link> Add Other Code Language </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_2 type=checkbox id=__nav_4_3_2> <label class=md-nav__link for=__nav_4_3_2> Backup With Velero <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Backup With Velero" data-md-level=3> <label class=md-nav__title for=__nav_4_3_2> <span class="md-nav__icon md-icon"></span> Backup With Velero </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../install-velero/ class=md-nav__link> Install Velero </a> </li> <li class=md-nav__item> <a href=../restore-edp-with-velero/ class=md-nav__link> Restore EDP Tenant With Velero </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../import-strategy/ class=md-nav__link> Enable VCS Import Strategy </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_4 type=checkbox id=__nav_4_3_4 checked> <label class=md-nav__link for=__nav_4_3_4> Manage Jenkins Pipelines <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Manage Jenkins Pipelines" data-md-level=3> <label class=md-nav__title for=__nav_4_3_4> <span class="md-nav__icon md-icon"></span> Manage Jenkins Pipelines </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../overview-manage-jenkins-pipelines/ class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Manage Jenkins CI Pipeline Job Provisioner <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Manage Jenkins CI Pipeline Job Provisioner </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#custom-custom-defaultgithubgitlab class=md-nav__link> Custom (custom-default/github/gitlab) </a> </li> <li class=md-nav__item> <a href=#gerrit-default class=md-nav__link> Gerrit (default) </a> </li> <li class=md-nav__item> <a href=#github-github class=md-nav__link> GitHub (github) </a> </li> <li class=md-nav__item> <a href=#gitlab-gitlab class=md-nav__link> GitLab (gitlab) </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../manage-jenkins-cd-job-provision/ class=md-nav__link> Manage Jenkins CD Pipeline Job Provisioner </a> </li> <li class=md-nav__item> <a href=../delete-jenkins-job-provision/ class=md-nav__link> Delete Jenkins Job Provision </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_5 type=checkbox id=__nav_4_3_5> <label class=md-nav__link for=__nav_4_3_5> Logging <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Logging data-md-level=3> <label class=md-nav__title for=__nav_4_3_5> <span class="md-nav__icon md-icon"></span> Logging </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../install-loki/ class=md-nav__link> Install Grafana Loki </a> </li> <li class=md-nav__item> <a href=../multitenant-logging/ class=md-nav__link> Multitenant Logging </a> </li> <li class=md-nav__item> <a href=../schedule-pods-restart/ class=md-nav__link> Schedule Pods Restart </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_4 type=checkbox id=__nav_4_4> <label class=md-nav__link for=__nav_4_4> Integration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Integration data-md-level=2> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> Integration </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_4_1 type=checkbox id=__nav_4_4_1> <label class=md-nav__link for=__nav_4_4_1> AWS Integration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="AWS Integration" data-md-level=3> <label class=md-nav__title for=__nav_4_4_1> <span class="md-nav__icon md-icon"></span> AWS Integration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../waf-tf-configuration/ class=md-nav__link> Configure AWS WAF With Terraform </a> </li> <li class=md-nav__item> <a href=../enable-irsa/ class=md-nav__link> Associate IAM Roles With Service Accounts </a> </li> <li class=md-nav__item> <a href=../kaniko-irsa/ class=md-nav__link> IAM Roles for Kaniko Service Accounts </a> </li> <li class=md-nav__item> <a href=../velero-irsa/ class=md-nav__link> IAM Roles for Velero Service Accounts </a> </li> <li class=md-nav__item> <a href=../loki-irsa/ class=md-nav__link> IAM Roles for Loki Service Accounts </a> </li> <li class=md-nav__item> <a href=../configure-keycloak-oidc-eks/ class=md-nav__link> EKS OIDC With Keycloak </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_4_2 type=checkbox id=__nav_4_4_2> <label class=md-nav__link for=__nav_4_4_2> Jira Integration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Jira Integration" data-md-level=3> <label class=md-nav__title for=__nav_4_4_2> <span class="md-nav__icon md-icon"></span> Jira Integration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../jira-integration/ class=md-nav__link> Adjust Jira Integration </a> </li> <li class=md-nav__item> <a href=../jira-gerrit-integration/ class=md-nav__link> Adjust VCS Integration With Jira </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_4_3 type=checkbox id=__nav_4_4_3> <label class=md-nav__link for=__nav_4_4_3> GitHub Integration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="GitHub Integration" data-md-level=3> <label class=md-nav__title for=__nav_4_4_3> <span class="md-nav__icon md-icon"></span> GitHub Integration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../github-integration/ class=md-nav__link> GitHub Integration </a> </li> <li class=md-nav__item> <a href=../github-debug-webhooks/ class=md-nav__link> Debug GitHub Webhooks in Jenkins </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_4_4 type=checkbox id=__nav_4_4_4> <label class=md-nav__link for=__nav_4_4_4> GitLab Integration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="GitLab Integration" data-md-level=3> <label class=md-nav__title for=__nav_4_4_4> <span class="md-nav__icon md-icon"></span> GitLab Integration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../gitlab-integration/ class=md-nav__link> GitLab Integration </a> </li> <li class=md-nav__item> <a href=../gitlabci-integration/ class=md-nav__link> Adjust GitLab CI Tool </a> </li> <li class=md-nav__item> <a href=../gitlab-debug-webhooks/ class=md-nav__link> Debug GitLab Webhooks in Jenkins </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../perf-integration/ class=md-nav__link> Perf Server Integration </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_5 type=checkbox id=__nav_4_5> <label class=md-nav__link for=__nav_4_5> Upgrade <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Upgrade data-md-level=2> <label class=md-nav__title for=__nav_4_5> <span class="md-nav__icon md-icon"></span> Upgrade </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_5_1 type=checkbox id=__nav_4_5_1> <label class=md-nav__link for=__nav_4_5_1> EDP on Kubernetes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="EDP on Kubernetes" data-md-level=3> <label class=md-nav__title for=__nav_4_5_1> <span class="md-nav__icon md-icon"></span> EDP on Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../upgrade-edp-2.7.8-to-2.8.4/ class=md-nav__link> Upgrade EDP v.2.7.8 to v.2.8.4 </a> </li> <li class=md-nav__item> <a href=../upgrade-edp-2.8.4-to-2.9.0/ class=md-nav__link> Upgrade EDP v.2.8.4 to v.2.9.0 </a> </li> <li class=md-nav__item> <a href=../upgrade-edp-2.9.0-to-2.10.2/ class=md-nav__link> Upgrade EDP v.2.9.0 to v.2.10.2 </a> </li> <li class=md-nav__item> <a href=../upgrade-edp-unreleased/ class=md-nav__link> Unreleased </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_5_2 type=checkbox id=__nav_4_5_2> <label class=md-nav__link for=__nav_4_5_2> Tutorials <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Tutorials data-md-level=3> <label class=md-nav__title for=__nav_4_5_2> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../deploy-aws-eks/ class=md-nav__link> Deploy AWS EKS Cluster </a> </li> <li class=md-nav__item> <a href=../add-jenkins-agent/ class=md-nav__link> Manage Jenkins Agent </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5> User Guide <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="User Guide" data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> User Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user-guide/ class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_2 type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2> Application <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Application data-md-level=2> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> Application </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user-guide/application/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../user-guide/add-application/ class=md-nav__link> Add Application </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_3 type=checkbox id=__nav_5_3> <label class=md-nav__link for=__nav_5_3> Autotest <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Autotest data-md-level=2> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> Autotest </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user-guide/autotest/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../user-guide/add-autotest/ class=md-nav__link> Add Autotests </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_4 type=checkbox id=__nav_5_4> <label class=md-nav__link for=__nav_5_4> Library <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Library data-md-level=2> <label class=md-nav__title for=__nav_5_4> <span class="md-nav__icon md-icon"></span> Library </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user-guide/library/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../user-guide/add-library/ class=md-nav__link> Add Library </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_5 type=checkbox id=__nav_5_5> <label class=md-nav__link for=__nav_5_5> Pipelines <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Pipelines data-md-level=2> <label class=md-nav__title for=__nav_5_5> <span class="md-nav__icon md-icon"></span> Pipelines </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user-guide/cicd-overview/ class=md-nav__link> EDP CI/CD Overview </a> </li> <li class=md-nav__item> <a href=../../user-guide/pipeline-framework/ class=md-nav__link> EDP Pipeline Framework </a> </li> <li class=md-nav__item> <a href=../../user-guide/add-custom-global-pipeline-lib/ class=md-nav__link> Add Custom Pipeline Library </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_5_4 type=checkbox id=__nav_5_5_4> <label class=md-nav__link for=__nav_5_5_4> CI Pipeline <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="CI Pipeline" data-md-level=3> <label class=md-nav__title for=__nav_5_5_4> <span class="md-nav__icon md-icon"></span> CI Pipeline </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user-guide/ci-pipeline-details/ class=md-nav__link> CI Pipeline Details </a> </li> <li class=md-nav__item> <a href=../../user-guide/code-review-pipeline/ class=md-nav__link> Code Review Pipeline </a> </li> <li class=md-nav__item> <a href=../../user-guide/build-pipeline/ class=md-nav__link> Build Pipeline </a> </li> <li class=md-nav__item> <a href=../../user-guide/customize-ci-pipeline/ class=md-nav__link> Customize CI Pipeline </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_5_4_5 type=checkbox id=__nav_5_5_4_5> <label class=md-nav__link for=__nav_5_5_4_5> Stages <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Stages data-md-level=4> <label class=md-nav__title for=__nav_5_5_4_5> <span class="md-nav__icon md-icon"></span> Stages </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user-guide/pipeline-stages/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../user-guide/dockerfile-stages/ class=md-nav__link> Use Dockerfile Linters for Code Review Pipeline </a> </li> <li class=md-nav__item> <a href=../../user-guide/ecr-to-docker-stages/ class=md-nav__link> Promote Docker Images From ECR to Docker Hub </a> </li> <li class=md-nav__item> <a href=../../user-guide/helm-stages/ class=md-nav__link> Helm Chart Testing and Documentation Tools </a> </li> <li class=md-nav__item> <a href=../../user-guide/opa-stages/ class=md-nav__link> Use Open Policy Agent </a> </li> <li class=md-nav__item> <a href=../../user-guide/terraform-stages/ class=md-nav__link> CI Pipeline for Terraform </a> </li> <li class=md-nav__item> <a href=../../user-guide/container-stages/ class=md-nav__link> CI Pipeline for Container </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_5_5 type=checkbox id=__nav_5_5_5> <label class=md-nav__link for=__nav_5_5_5> CD Pipeline <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="CD Pipeline" data-md-level=3> <label class=md-nav__title for=__nav_5_5_5> <span class="md-nav__icon md-icon"></span> CD Pipeline </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user-guide/cd-pipeline-details/ class=md-nav__link> CD Pipeline Details </a> </li> <li class=md-nav__item> <a href=../../user-guide/add-cd-pipeline/ class=md-nav__link> Add CD Pipeline </a> </li> <li class=md-nav__item> <a href=../../user-guide/customize-cd-pipeline/ class=md-nav__link> Customize CD Pipeline </a> </li> <li class=md-nav__item> <a href=../../user-guide/prepare-for-release/ class=md-nav__link> Prepare for Release </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_5_5_5 type=checkbox id=__nav_5_5_5_5> <label class=md-nav__link for=__nav_5_5_5_5> Stages <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Stages data-md-level=4> <label class=md-nav__title for=__nav_5_5_5_5> <span class="md-nav__icon md-icon"></span> Stages </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user-guide/copy-shared-secrets/ class=md-nav__link> Copy Shared Secrets </a> </li> <li class=md-nav__item> <a href=../../user-guide/helm-release-deletion/ class=md-nav__link> Helm Release Deletion </a> </li> <li class=md-nav__item> <a href=../../user-guide/semi-auto-deploy/ class=md-nav__link> Semi Auto Deploy </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../user-guide/d-d-diagram/ class=md-nav__link> Delivery Dashboard Diagram </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6> Developer Guide <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Developer Guide" data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Developer Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../developer-guide/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../developer-guide/local-development/ class=md-nav__link> Local Development </a> </li> <li class=md-nav__item> <a href=../../developer-guide/rest-api/ class=md-nav__link> EDP API </a> </li> <li class=md-nav__item> <a href=../../developer-guide/mk-docs-development/ class=md-nav__link> Documentation Flow </a> </li> <li class=md-nav__item> <a href=../../developer-guide/edp-workflow/ class=md-nav__link> EDP Project Rules. Working Process </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../roadmap/ class=md-nav__link> RoadMap </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8 type=checkbox id=__nav_8> <label class=md-nav__link for=__nav_8> Use Cases <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Use Cases" data-md-level=1> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Use Cases </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../use-cases/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../use-cases/autotest-as-quality-gate/ class=md-nav__link> Autotest as Quality Gate </a> </li> <li class=md-nav__item> <a href=../../use-cases/promotion-procedure/ class=md-nav__link> Promote Application in CD Pipeline </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../faq/ class=md-nav__link> FAQ </a> </li> <li class=md-nav__item> <a href=../../glossary/ class=md-nav__link> Glossary </a> </li> <li class=md-nav__item> <a href=https://github.com/epam/edp-install/blob/master/RELEASES.md class=md-nav__link> Releases ⧉ </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#custom-custom-defaultgithubgitlab class=md-nav__link> Custom (custom-default/github/gitlab) </a> </li> <li class=md-nav__item> <a href=#gerrit-default class=md-nav__link> Gerrit (default) </a> </li> <li class=md-nav__item> <a href=#github-github class=md-nav__link> GitHub (github) </a> </li> <li class=md-nav__item> <a href=#gitlab-gitlab class=md-nav__link> GitLab (gitlab) </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=manage-jenkins-ci-pipeline-job-provisioner>Manage Jenkins CI Pipeline Job Provisioner<a class=headerlink href=#manage-jenkins-ci-pipeline-job-provisioner title="Permanent link">⚓︎</a></h1> <p>The Jenkins CI job provisioner (or seed-job) is used to create and manage the application folder, and its <a href=../../user-guide/pipeline-stages/ >Code Review, Build and Create Release pipelines</a>. Depending on the version control system, different job provisioners are used. EDP supports integration with the following version control systems:</p> <ul> <li>Gerrit (default)</li> <li>GitHub (github)</li> <li>GitLab (gitlab)</li> </ul> <p>By default, the <a href=https://github.com/epam/edp-jenkins-operator/tree/master>Jenkins operator</a> creates a pipeline for <a href=../../features/ >several types of application and libraries</a>. There is a special <strong>job-provisions/ci</strong> folder in Jenkins for these provisioners. During the EDP deployment, a default provisioner is created for integration with <a href=https://www.gerritcodereview.com/ >Gerrit</a> version control system. To configure integration with other version control systems, you need to add the required job provisioners to <strong>job-provisions/ci</strong> folder in Jenkins.</p> <h2 id=custom-custom-defaultgithubgitlab>Custom (custom-default/github/gitlab)<a class=headerlink href=#custom-custom-defaultgithubgitlab title="Permanent link">⚓︎</a></h2> <p>In some cases it is necessary to modify or update the job provisioner logic, for example when an <a href=../add-other-code-language/ >added other code language</a> needs to create a custom job provisioner on the basis of an existing one out of the box. Take the steps below to add a custom job provision:</p> <ol> <li> <p>Navigate to the Jenkins main page and open the <em>job-provisions/ci</em> folder, click <strong>New Item</strong> and type the name of job-provisions, for example - custom-github.</p> <p> <figure><a data-caption="CI provisioner name" data-fancybox=gallery href=../../assets/operator-guide/ci-provisioner-name.png><img alt="CI provisioner name" src=../../assets/operator-guide/ci-provisioner-name.png title="CI provisioner name" width=600px></a><figcaption>CI provisioner name</figcaption> </figure> </p> <p>Scroll down to the <strong>Copy from</strong> field and enter "/job-provisions/ci/github", and click OK: <figure><a data-caption="Copy ci provisioner" data-fancybox=gallery href=../../assets/operator-guide/copy-ci-provisioner.png><img alt="Copy ci provisioner" src=../../assets/operator-guide/copy-ci-provisioner.png title="Copy ci provisioner" width=600px></a><figcaption>Copy ci provisioner</figcaption> </figure> </p> </li> <li> <p>Update the required parameters in the new provisioner. For example, if it is necessary to implement a new build tool <strong>docker</strong>, several parameters are to be updated. Add the following stages to the docker Code Review and Build pipelines for <strong>docker</strong> application:</p> <div class=codehilite><pre><span></span><code><span class=nv>stages</span>[<span class=s1>&#39;</span><span class=s>Code-review-application-docker</span><span class=s1>&#39;</span>] <span class=o>=</span> <span class=s1>&#39;</span><span class=s>[{&quot;name&quot;: &quot;checkout&quot;},{&quot;name&quot;: &quot;lint&quot;},{&quot;name&quot;: &quot;build&quot;}]</span><span class=s1>&#39;</span>
...
<span class=nv>stages</span>[<span class=s1>&#39;</span><span class=s>Build-application-docker</span><span class=s1>&#39;</span>] <span class=o>=</span> <span class=s1>&#39;</span><span class=s>[{&quot;name&quot;: &quot;checkout&quot;},{&quot;name&quot;: &quot;get-version&quot;},{&quot;name&quot;: &quot;lint&quot;},{&quot;name&quot;: &quot;build&quot;},{&quot;name&quot;: &quot;push&quot;},{&quot;name&quot;: &quot;git-tag&quot;}]</span><span class=s1>&#39;</span>
...
<span class=nv>def</span> <span class=nv>getStageKeyName</span><span class=ss>(</span><span class=nv>buildTool</span><span class=ss>)</span> {
    ...
    <span class=k>if</span> <span class=ss>(</span><span class=nv>buildTool</span>.<span class=nv>toString</span><span class=ss>()</span>.<span class=nv>equalsIgnoreCase</span><span class=ss>(</span><span class=s1>&#39;</span><span class=s>docker</span><span class=s1>&#39;</span><span class=ss>))</span> {
    <span class=k>return</span> <span class=s2>&quot;</span><span class=s>Code-review-application-docker</span><span class=s2>&quot;</span>
    }
    ...
}
</code></pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Make sure the support for the above mentioned logic is implemented. Please refer to the <a href=https://epam.github.io/edp-install/user-guide/pipeline-framework/#13-how-to-redefine-or-extend-the-edp-pipeline-stages-library>How to Redefine or Extend the EDP Pipeline Stages Library</a> section of the guide.</p> </div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>The default template should be changed if there is another creation logic for the Code Review, Build and Create Release pipelines. Furthermore, all pipeline types should have the necessary stages as well.</p> </div> <p>After the steps above are performed, the new custom job provision will be available in <strong>Advanced Settings</strong> during the application creation in Admin Console.</p> <p> <figure><a data-caption="Custom ci provision" data-fancybox=gallery href=../../assets/operator-guide/add-custom-ci-provision.png><img alt="Custom ci provision" src=../../assets/operator-guide/add-custom-ci-provision.png title="Custom ci provision" width=600px></a><figcaption>Custom ci provision</figcaption> </figure> </p> </li> </ol> <h2 id=gerrit-default>Gerrit (default)<a class=headerlink href=#gerrit-default title="Permanent link">⚓︎</a></h2> <p>During the EDP deployment, a default provisioner is created for integration with <a href=https://www.gerritcodereview.com/ >Gerrit</a> version control system.</p> <ol> <li> <p>Find the configuration in <strong>job-provisions/ci/default</strong>.</p> </li> <li> <p>Default template is presented below:</p> <details> <summary><b>View: Default template</b></summary> ```groovy /* Copyright 2021 EPAM Systems. Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */ import groovy.json.* import jenkins.model.Jenkins import hudson.model.* Jenkins jenkins = Jenkins.instance def stages = [:] def jiraIntegrationEnabled = Boolean.parseBoolean("${JIRA_INTEGRATION_ENABLED}" as String) def commitValidateStage = jiraIntegrationEnabled ? ',{"name": "commit-validate"}' : '' def createJIMStage = jiraIntegrationEnabled ? ',{"name": "create-jira-issue-metadata"}' : '' def buildTool = "${BUILD_TOOL}" def goBuildStage = buildTool.toString() == "go" ? ',{"name": "build"}' : ',{"name": "compile"}' stages['Code-review-application'] = '[{"name": "gerrit-checkout"}' + "${commitValidateStage}" + goBuildStage + ',{"name": "tests"},[{"name": "sonar"},{"name": "dockerfile-lint"},{"name": "helm-lint"}]]' stages['Code-review-library'] = '[{"name": "gerrit-checkout"}' + "${commitValidateStage}" + ',{"name": "compile"},{"name": "tests"},' + '{"name": "sonar"}]' stages['Code-review-autotests'] = '[{"name": "gerrit-checkout"},{"name": "get-version"}' + "${commitValidateStage}" + ',{"name": "tests"},{"name": "sonar"}' + "${createJIMStage}" + ']' stages['Code-review-default'] = '[{"name": "gerrit-checkout"}' + "${commitValidateStage}" + ']' stages['Code-review-library-terraform'] = '[{"name": "gerrit-checkout"}' + "${commitValidateStage}" + ',{"name": "terraform-lint"}]' stages['Code-review-library-opa'] = '[{"name": "gerrit-checkout"}' + "${commitValidateStage}" + ',{"name": "tests"}]' stages['Code-review-library-codenarc'] = '[{"name": "gerrit-checkout"}' + "${commitValidateStage}" + ',{"name": "sonar"},{"name": "build"}]' stages['Code-review-library-kaniko'] = '[{"name": "gerrit-checkout"}' + "${commitValidateStage}" + ',{"name": "dockerfile-lint"},{"name": "dockerbuild-verify"}]' stages['Build-library-maven'] = '[{"name": "checkout"},{"name": "get-version"},{"name": "compile"},' + '{"name": "tests"},{"name": "sonar"},{"name": "build"},{"name": "push"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-library-npm'] = stages['Build-library-maven'] stages['Build-library-gradle'] = stages['Build-library-maven'] stages['Build-library-dotnet'] = '[{"name": "checkout"},{"name": "get-version"},{"name": "compile"},' + '{"name": "tests"},{"name": "sonar"},{"name": "push"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-library-python'] = '[{"name": "checkout"},{"name": "get-version"},{"name": "compile"},' + '{"name": "tests"},{"name": "sonar"},{"name": "push"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-library-terraform'] = '[{"name": "checkout"},{"name": "get-version"},{"name": "terraform-lint"}' + ',{"name": "terraform-plan"},{"name": "terraform-apply"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-library-opa'] = '[{"name": "checkout"},{"name": "get-version"}' + ',{"name": "tests"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-library-codenarc'] = '[{"name": "checkout"},{"name": "get-version"},{"name": "sonar"},{"name": "build"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-library-kaniko'] = '[{"name": "checkout"},{"name": "get-version"}' + ',{"name": "dockerfile-lint"},{"name": "build-image-kaniko"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-application-maven'] = '[{"name": "checkout"},{"name": "get-version"},{"name": "compile"},' + '{"name": "tests"},[{"name": "sonar"}],{"name": "build"},{"name": "build-image-kaniko"},' + '{"name": "push"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-application-npm'] = stages['Build-application-maven'] stages['Build-application-gradle'] = stages['Build-application-maven'] stages['Build-application-dotnet'] = '[{"name": "checkout"},{"name": "get-version"},{"name": "compile"},' + '{"name": "tests"},[{"name": "sonar"}],{"name": "build-image-kaniko"},' + '{"name": "push"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-application-go'] = '[{"name": "checkout"},{"name": "get-version"},{"name": "tests"},{"name": "sonar"},' + '{"name": "build"},{"name": "build-image-kaniko"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-application-python'] = '[{"name": "checkout"},{"name": "get-version"},{"name": "compile"},' + '{"name": "tests"},{"name": "sonar"},' + '{"name": "build-image-kaniko"},{"name": "push"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Create-release'] = '[{"name": "checkout"},{"name": "create-branch"},{"name": "trigger-job"}]' def defaultBuild = '[{"name": "checkout"}' + "${createJIMStage}" + ']' def codebaseName = "${NAME}" def gitServerCrName = "${GIT_SERVER_CR_NAME}" def gitServerCrVersion = "${GIT_SERVER_CR_VERSION}" def gitCredentialsId = "${GIT_CREDENTIALS_ID ? GIT_CREDENTIALS_ID : 'gerrit-ciuser-sshkey'}" def repositoryPath = "${REPOSITORY_PATH}" def defaultBranch = "${DEFAULT_BRANCH}" def codebaseFolder = jenkins.getItem(codebaseName) if (codebaseFolder == null) { folder(codebaseName) } createListView(codebaseName, "Releases") createReleasePipeline("Create-release-${codebaseName}", codebaseName, stages["Create-release"], "CreateRelease", repositoryPath, gitCredentialsId, gitServerCrName, gitServerCrVersion, jiraIntegrationEnabled, defaultBranch) if (buildTool.toString().equalsIgnoreCase('none')) { return true } if (BRANCH) { def branch = "${BRANCH}" def formattedBranch = "${branch.toUpperCase().replaceAll(/\\//, "-")}" createListView(codebaseName, formattedBranch) def type = "${TYPE}" def crKey = getStageKeyName(buildTool) createCiPipeline("Code-review-${codebaseName}", codebaseName, stages[crKey], "CodeReview", repositoryPath, gitCredentialsId, branch, gitServerCrName, gitServerCrVersion) def buildKey = "Build-${type}-${buildTool.toLowerCase()}".toString() if (type.equalsIgnoreCase('application') || type.equalsIgnoreCase('library')) { def jobExists = false if("${formattedBranch}-Build-${codebaseName}".toString() in Jenkins.instance.getAllItems().collect{it.name}) jobExists = true createCiPipeline("Build-${codebaseName}", codebaseName, stages.get(buildKey, defaultBuild), "Build", repositoryPath, gitCredentialsId, branch, gitServerCrName, gitServerCrVersion) if(!jobExists) queue("${codebaseName}/${formattedBranch}-Build-${codebaseName}") } } def createCiPipeline(pipelineName, codebaseName, codebaseStages, pipelineType, repository, credId, watchBranch, gitServerCrName, gitServerCrVersion) { pipelineJob("${codebaseName}/${watchBranch.toUpperCase().replaceAll(/\\//, "-")}-${pipelineName}") { logRotator { numToKeep(10) daysToKeep(7) } triggers { gerrit { events { if (pipelineName.contains("Build")) changeMerged() else patchsetCreated() } project("plain:${codebaseName}", ["plain:${watchBranch}"]) } } definition { cps { script("@Library(['edp-library-stages', 'edp-library-pipelines']) _ \n\n${pipelineType}()") sandbox(true) } parameters { stringParam("GIT_SERVER_CR_NAME", "${gitServerCrName}", "Name of Git Server CR to generate link to Git server") stringParam("GIT_SERVER_CR_VERSION", "${gitServerCrVersion}", "Version of GitServer CR Resource") stringParam("STAGES", "${codebaseStages}", "Consequence of stages in JSON format to be run during execution") stringParam("GERRIT_PROJECT_NAME", "${codebaseName}", "Gerrit project name(Codebase name) to be build") stringParam("BRANCH", "${watchBranch}", "Branch to build artifact from") } } } } def getStageKeyName(buildTool) { if (buildTool.toString().equalsIgnoreCase('terraform')) { return "Code-review-library-terraform" } if (buildTool.toString().equalsIgnoreCase('opa')) { return "Code-review-library-opa" } if (buildTool.toString().equalsIgnoreCase('codenarc')) { return "Code-review-library-codenarc" } if (buildTool.toString().equalsIgnoreCase('kaniko')) { return "Code-review-library-kaniko" } def buildToolsOutOfTheBox = ["maven","npm","gradle","dotnet","none","go","python"] def supBuildTool = buildToolsOutOfTheBox.contains(buildTool.toString()) return supBuildTool ? "Code-review-${TYPE}" : "Code-review-default" } def createReleasePipeline(pipelineName, codebaseName, codebaseStages, pipelineType, repository, credId, gitServerCrName, gitServerCrVersion, jiraIntegrationEnabled, defaultBranch) { pipelineJob("${codebaseName}/${pipelineName}") { logRotator { numToKeep(14) daysToKeep(30) } definition { cps { script("@Library(['edp-library-stages', 'edp-library-pipelines']) _ \n\n${pipelineType}()") sandbox(true) } parameters { stringParam("STAGES", "${codebaseStages}", "") if (pipelineName.contains("Create-release")) { stringParam("JIRA_INTEGRATION_ENABLED", "${jiraIntegrationEnabled}", "Is Jira integration enabled") stringParam("GERRIT_PROJECT", "${codebaseName}", "") stringParam("RELEASE_NAME", "", "Name of the release(branch to be created)") stringParam("COMMIT_ID", "", "Commit ID that will be used to create branch from for new release. If empty, DEFAULT_BRANCH will be used") stringParam("GIT_SERVER_CR_NAME", "${gitServerCrName}", "Name of Git Server CR to generate link to Git server") stringParam("GIT_SERVER_CR_VERSION", "${gitServerCrVersion}", "Version of GitServer CR Resource") stringParam("REPOSITORY_PATH", "${repository}", "Full repository path") stringParam("DEFAULT_BRANCH", "${defaultBranch}", "Default repository branch") } } } } } def createListView(codebaseName, branchName) { listView("${codebaseName}/${branchName}") { if (branchName.toLowerCase() == "releases") { jobFilters { regex { matchType(MatchType.INCLUDE_MATCHED) matchValue(RegexMatchValue.NAME) regex("^Create-release.*") } } } else { jobFilters { regex { matchType(MatchType.INCLUDE_MATCHED) matchValue(RegexMatchValue.NAME) regex("^${branchName}-(Code-review|Build).*") } } } columns { status() weather() name() lastSuccess() lastFailure() lastDuration() buildButton() } } } ``` </details> <p><strong>Job Provision Pipeline Parameters</strong></p> <p>The job-provisions pipeline consists of the following parameters:</p> </li> </ol> <ul> <li>NAME - the application name;</li> </ul> <ul> <li>TYPE - the codebase type (the application / library / autotest);</li> </ul> <ul> <li>BUILD_TOOL - a tool that is used to build the application;</li> </ul> <ul> <li>BRANCH - a branch name;</li> </ul> <ul> <li>GIT_SERVER_CR_NAME - the name of the application Git server custom resource;</li> </ul> <ul> <li>GIT_SERVER_CR_VERSION - the version of the application Git server custom resource;</li> </ul> <ul> <li>GIT_CREDENTIALS_ID - the secret name where Git server credentials are stored (default 'gerrit-ciuser-sshkey');</li> </ul> <ul> <li>REPOSITORY_PATH - the full repository path;</li> </ul> <ul> <li>JIRA_INTEGRATION_ENABLED - the Jira integration is enabled or not;</li> </ul> <ul> <li>DEFAULT_BRANCH - the default repository branch.</li> </ul> <h2 id=github-github>GitHub (github)<a class=headerlink href=#github-github title="Permanent link">⚓︎</a></h2> <p>To create a new job provision for work with GitHub, take the following steps:</p> <ol> <li> <p>Navigate to the Jenkins main page and open the <em>job-provisions/ci</em> folder.</p> </li> <li> <p>Click <em>New Item</em> and type the name of job-provisions - <strong>github</strong>.</p> </li> <li> <p>Select the <em>Freestyle project</em> option and click OK.</p> </li> <li> <p>Select the <em>Discard old builds</em> check box and configure a few parameters:</p> <p>Strategy: Log Rotation</p> <p>Days to keep builds: 10</p> <p>Max # of builds to keep: 10</p> </li> <li> <p>Select the <em>This project is parameterized</em> check box and add a few input parameters:</p> <ul> <li>NAME;</li> </ul> <ul> <li>TYPE;</li> </ul> <ul> <li>BUILD_TOOL;</li> </ul> <ul> <li>BRANCH;</li> </ul> <ul> <li>GIT_SERVER_CR_NAME;</li> </ul> <ul> <li>GIT_SERVER_CR_VERSION;</li> </ul> <ul> <li>GIT_CREDENTIALS_ID;</li> </ul> <ul> <li>REPOSITORY_PATH;</li> </ul> <ul> <li>JIRA_INTEGRATION_ENABLED;</li> </ul> <ul> <li>PLATFORM_TYPE;</li> </ul> <ul> <li>DEFAULT_BRANCH.</li> </ul> </li> <li> <p>Check the <em>Execute concurrent builds if necessary</em> option.</p> </li> <li> <p>Check the <em>Restrict where this project can be run</em> option.</p> </li> <li> <p>Fill in the <em>Label Expression</em> field by typing <em>master</em> to ensure job runs on Jenkins Master.</p> </li> <li> <p>In the <em>Build</em> section, perform the following:</p> <ul> <li>Select <em>DSL Script</em>;</li> </ul> <ul> <li>Select the <em>Use the provided DSL script</em> check box:</li> </ul> <p> <figure><a data-caption="DSL script check box" data-fancybox=gallery href=../../assets/operator-guide/dsl_script.png><img alt="DSL script check box" src=../../assets/operator-guide/dsl_script.png title="DSL script check box" width=600px></a><figcaption>DSL script check box</figcaption> </figure> </p> </li> <li> <p>As soon as all the steps above are performed, insert the code:</p> <details> <summary><b>View: Template</b></summary> ```groovy import groovy.json.* import jenkins.model.Jenkins import javaposse.jobdsl.plugin.* import com.cloudbees.hudson.plugins.folder.* Jenkins jenkins = Jenkins.instance def stages = [:] def jiraIntegrationEnabled = Boolean.parseBoolean("${JIRA_INTEGRATION_ENABLED}" as String) def commitValidateStage = jiraIntegrationEnabled ? ',{"name": "commit-validate"}' : '' def createJIMStage = jiraIntegrationEnabled ? ',{"name": "create-jira-issue-metadata"}' : '' def platformType = "${PLATFORM_TYPE}" def buildStage = platformType == "kubernetes" ? ',{"name": "build-image-kaniko"}' : ',{"name": "build-image-from-dockerfile"}' def buildTool = "${BUILD_TOOL}" def goBuildStage = buildTool.toString() == "go" ? ',{"name": "build"}' : ',{"name": "compile"}' stages['Code-review-application'] = '[{"name": "checkout"}' + "${commitValidateStage}" + goBuildStage + ',{"name": "tests"},[{"name": "sonar"},{"name": "dockerfile-lint"},{"name": "helm-lint"}]]' stages['Code-review-library'] = '[{"name": "checkout"}' + "${commitValidateStage}" + ',{"name": "compile"},{"name": "tests"},' + '{"name": "sonar"}]' stages['Code-review-autotests'] = '[{"name": "checkout"}' + "${commitValidateStage}" + ',{"name": "tests"},{"name": "sonar"}' + ']' stages['Code-review-default'] = '[{"name": "checkout"}' + "${commitValidateStage}" + ']' stages['Code-review-library-terraform'] = '[{"name": "checkout"}' + "${commitValidateStage}" + ',{"name": "terraform-lint"}]' stages['Code-review-library-opa'] = '[{"name": "checkout"}' + "${commitValidateStage}" + ',{"name": "tests"}]' stages['Code-review-library-codenarc'] = '[{"name": "checkout"}' + "${commitValidateStage}" + ',{"name": "sonar"},{"name": "build"}]' stages['Code-review-library-kaniko'] = '[{"name": "checkout"}' + "${commitValidateStage}" + ',{"name": "dockerfile-lint"},{"name": "dockerbuild-verify"}]' stages['Build-library-maven'] = '[{"name": "checkout"},{"name": "get-version"},{"name": "compile"},' + '{"name": "tests"},{"name": "sonar"},{"name": "build"},{"name": "push"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-library-npm'] = stages['Build-library-maven'] stages['Build-library-gradle'] = stages['Build-library-maven'] stages['Build-library-dotnet'] = '[{"name": "checkout"},{"name": "get-version"},{"name": "compile"},' + '{"name": "tests"},{"name": "sonar"},{"name": "push"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-library-python'] = '[{"name": "checkout"},{"name": "get-version"},{"name": "compile"},' + '{"name": "tests"},{"name": "sonar"},{"name": "push"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-library-terraform'] = '[{"name": "checkout"},{"name": "get-version"},{"name": "terraform-lint"}' + ',{"name": "terraform-plan"},{"name": "terraform-apply"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-library-opa'] = '[{"name": "checkout"},{"name": "get-version"}' + ',{"name": "tests"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-library-codenarc'] = '[{"name": "checkout"},{"name": "get-version"},{"name": "sonar"},{"name": "build"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-library-kaniko'] = '[{"name": "checkout"},{"name": "get-version"}' + ',{"name": "dockerfile-lint"},{"name": "build-image-kaniko"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-autotests-maven'] = '[{"name": "checkout"},{"name": "get-version"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-autotests-gradle'] = '[{"name": "checkout"},{"name": "get-version"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-application-maven'] = '[{"name": "checkout"},{"name": "get-version"},{"name": "compile"},' + '{"name": "tests"},{"name": "sonar"},{"name": "build"}' + "${buildStage}" + ',{"name": "push"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-application-npm'] = stages['Build-application-maven'] stages['Build-application-gradle'] = stages['Build-application-maven'] stages['Build-application-dotnet'] = '[{"name": "checkout"},{"name": "get-version"},{"name": "compile"},' + '{"name": "tests"},{"name": "sonar"}' + "${buildStage}" + ',{"name": "push"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-application-go'] = '[{"name": "checkout"},{"name": "get-version"},{"name": "tests"},{"name": "sonar"},' + '{"name": "build"}' + "${buildStage}" + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-application-python'] = '[{"name": "checkout"},{"name": "get-version"},{"name": "compile"},{"name": "tests"},{"name": "sonar"}' + "${buildStage}" + ',{"name":"push"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Create-release'] = '[{"name": "checkout"},{"name": "create-branch"},{"name": "trigger-job"}]' def buildToolsOutOfTheBox = ["maven","npm","gradle","dotnet","none","go","python"] def defaultStages = '[{"name": "checkout"}' + "${createJIMStage}" + ']' def codebaseName = "${NAME}" def gitServerCrName = "${GIT_SERVER_CR_NAME}" def gitServerCrVersion = "${GIT_SERVER_CR_VERSION}" def gitCredentialsId = "${GIT_CREDENTIALS_ID ? GIT_CREDENTIALS_ID : 'gerrit-ciuser-sshkey'}" def repositoryPath = "${REPOSITORY_PATH.replaceAll(~/:\d+\\//,"/")}" def githubRepository = "https://${repositoryPath.split("@")[1]}" def defaultBranch = "${DEFAULT_BRANCH}" def codebaseFolder = jenkins.getItem(codebaseName) if (codebaseFolder == null) { folder(codebaseName) } createListView(codebaseName, "Releases") createReleasePipeline("Create-release-${codebaseName}", codebaseName, stages["Create-release"], "CreateRelease", repositoryPath, gitCredentialsId, gitServerCrName, gitServerCrVersion, jiraIntegrationEnabled, platformType, defaultBranch) if (buildTool.toString().equalsIgnoreCase('none')) { return true } if (BRANCH) { def branch = "${BRANCH}" def formattedBranch = "${branch.toUpperCase().replaceAll(/\\//, "-")}" createListView(codebaseName, formattedBranch) def type = "${TYPE}" def supBuildTool = buildToolsOutOfTheBox.contains(buildTool.toString()) def crKey = getStageKeyName(buildTool).toString() createCodeReviewPipeline("Code-review-${codebaseName}", codebaseName, stages.get(crKey, defaultStages), "CodeReview", repositoryPath, gitCredentialsId, branch, gitServerCrName, gitServerCrVersion, githubRepository) registerWebHook(repositoryPath) def buildKey = "Build-${type}-${buildTool.toLowerCase()}".toString() if (type.equalsIgnoreCase('application') || type.equalsIgnoreCase('library') || type.equalsIgnoreCase('autotests')) { def jobExists = false if("${formattedBranch}-Build-${codebaseName}".toString() in Jenkins.instance.getAllItems().collect{it.name}) jobExists = true createBuildPipeline("Build-${codebaseName}", codebaseName, stages.get(buildKey, defaultStages), "Build", repositoryPath, gitCredentialsId, branch, gitServerCrName, gitServerCrVersion, githubRepository) registerWebHook(repositoryPath, 'build') if(!jobExists) queue("${codebaseName}/${formattedBranch}-Build-${codebaseName}") } } def getStageKeyName(buildTool) { if (buildTool.toString().equalsIgnoreCase('terraform')) { return "Code-review-library-terraform" } if (buildTool.toString().equalsIgnoreCase('opa')) { return "Code-review-library-opa" } if (buildTool.toString().equalsIgnoreCase('codenarc')) { return "Code-review-library-codenarc" } if (buildTool.toString().equalsIgnoreCase('kaniko')) { return "Code-review-library-kaniko" } def buildToolsOutOfTheBox = ["maven","npm","gradle","dotnet","none","go","python"] def supBuildTool = buildToolsOutOfTheBox.contains(buildTool.toString()) return supBuildTool ? "Code-review-${TYPE}" : "Code-review-default" } def createCodeReviewPipeline(pipelineName, codebaseName, codebaseStages, pipelineType, repository, credId, defaultBranch, gitServerCrName, gitServerCrVersion, githubRepository) { pipelineJob("${codebaseName}/${defaultBranch.toUpperCase().replaceAll(/\\//, "-")}-${pipelineName}") { logRotator { numToKeep(10) daysToKeep(7) } definition { cps { script("@Library(['edp-library-stages', 'edp-library-pipelines']) _ \n\n${pipelineType}()") sandbox(true) } parameters { stringParam("GIT_SERVER_CR_NAME", "${gitServerCrName}", "Name of Git Server CR to generate link to Git server") stringParam("GIT_SERVER_CR_VERSION", "${gitServerCrVersion}", "Version of GitServer CR Resource") stringParam("STAGES", "${codebaseStages}", "Consequence of stages in JSON format to be run during execution") stringParam("GERRIT_PROJECT_NAME", "${codebaseName}", "Gerrit project name(Codebase name) to be build") if (pipelineName.contains("Build")) stringParam("BRANCH", "${defaultBranch}", "Branch to build artifact from") else stringParam("BRANCH", "\${ghprbActualCommit}", "Branch to build artifact from") } } triggers { githubPullRequest { cron('') onlyTriggerPhrase(false) useGitHubHooks(true) permitAll(true) autoCloseFailedPullRequests(false) displayBuildErrorsOnDownstreamBuilds(false) whiteListTargetBranches([defaultBranch.toString()]) extensions { commitStatus { context('Jenkins Code-Review') triggeredStatus('Build is Triggered') startedStatus('Build is Started') addTestResults(true) completedStatus('SUCCESS', 'Verified') completedStatus('FAILURE', 'Failed') completedStatus('PENDING', 'Penging') completedStatus('ERROR', 'Error') } } } } properties { githubProjectProperty { projectUrlStr("${githubRepository}") } } } } def createBuildPipeline(pipelineName, codebaseName, codebaseStages, pipelineType, repository, credId, defaultBranch, gitServerCrName, gitServerCrVersion, githubRepository) { pipelineJob("${codebaseName}/${defaultBranch.toUpperCase().replaceAll(/\\//, "-")}-${pipelineName}") { logRotator { numToKeep(10) daysToKeep(7) } definition { cps { script("@Library(['edp-library-stages', 'edp-library-pipelines']) _ \n\nnode {\n git credentialsId: \'${credId}\', url: \'${repository}\', branch: \'${BRANCH}\'\n}\n\n${pipelineType}()") sandbox(true) } parameters { stringParam("GIT_SERVER_CR_NAME", "${gitServerCrName}", "Name of Git Server CR to generate link to Git server") stringParam("GIT_SERVER_CR_VERSION", "${gitServerCrVersion}", "Version of GitServer CR Resource") stringParam("STAGES", "${codebaseStages}", "Consequence of stages in JSON format to be run during execution") stringParam("GERRIT_PROJECT_NAME", "${codebaseName}", "Gerrit project name(Codebase name) to be build") stringParam("BRANCH", "${defaultBranch}", "Branch to run from") } } triggers { gitHubPushTrigger() } properties { githubProjectProperty { projectUrlStr("${githubRepository}") } } } } def createListView(codebaseName, branchName) { listView("${codebaseName}/${branchName}") { if (branchName.toLowerCase() == "releases") { jobFilters { regex { matchType(MatchType.INCLUDE_MATCHED) matchValue(RegexMatchValue.NAME) regex("^Create-release.*") } } } else { jobFilters { regex { matchType(MatchType.INCLUDE_MATCHED) matchValue(RegexMatchValue.NAME) regex("^${branchName}-(Code-review|Build).*") } } } columns { status() weather() name() lastSuccess() lastFailure() lastDuration() buildButton() } } } def createReleasePipeline(pipelineName, codebaseName, codebaseStages, pipelineType, repository, credId, gitServerCrName, gitServerCrVersion, jiraIntegrationEnabled, platformType, defaultBranch) { pipelineJob("${codebaseName}/${pipelineName}") { logRotator { numToKeep(14) daysToKeep(30) } definition { cps { script("@Library(['edp-library-stages', 'edp-library-pipelines']) _ \n\n${pipelineType}()") sandbox(true) } parameters { stringParam("STAGES", "${codebaseStages}", "") if (pipelineName.contains("Create-release")) { stringParam("JIRA_INTEGRATION_ENABLED", "${jiraIntegrationEnabled}", "Is Jira integration enabled") stringParam("PLATFORM_TYPE", "${platformType}", "Platform type") stringParam("GERRIT_PROJECT", "${codebaseName}", "") stringParam("RELEASE_NAME", "", "Name of the release(branch to be created)") stringParam("COMMIT_ID", "", "Commit ID that will be used to create branch from for new release. If empty, DEFAULT_BRANCH will be used") stringParam("GIT_SERVER_CR_NAME", "${gitServerCrName}", "Name of Git Server CR to generate link to Git server") stringParam("GIT_SERVER_CR_VERSION", "${gitServerCrVersion}", "Version of GitServer CR Resource") stringParam("REPOSITORY_PATH", "${repository}", "Full repository path") stringParam("DEFAULT_BRANCH", "${defaultBranch}", "Default repository branch") } } } } } def registerWebHook(repositoryPath, type = 'code-review') { def url = repositoryPath.split('@')[1].split('/')[0] def owner = repositoryPath.split('@')[1].split('/')[1] def repo = repositoryPath.split('@')[1].split('/')[2] def apiUrl = 'https://api.' + url + '/repos/' + owner + '/' + repo + '/hooks' def webhookUrl = '' def webhookConfig = [:] def config = [:] def events = [] if (type.equalsIgnoreCase('build')) { webhookUrl = System.getenv('JENKINS_UI_URL') + "/github-webhook/" events = ["push"] config["url"] = webhookUrl config["content_type"] = "json" config["insecure_ssl"] = 0 webhookConfig["name"] = "web" webhookConfig["config"] = config webhookConfig["events"] = events webhookConfig["active"] = true } else { webhookUrl = System.getenv('JENKINS_UI_URL') + "/ghprbhook/" events = ["issue_comment","pull_request"] config["url"] = webhookUrl config["content_type"] = "form" config["insecure_ssl"] = 0 webhookConfig["name"] = "web" webhookConfig["config"] = config webhookConfig["events"] = events webhookConfig["active"] = true } def requestBody = JsonOutput.toJson(webhookConfig) def http = new URL(apiUrl).openConnection() as HttpURLConnection http.setRequestMethod('POST') http.setDoOutput(true) println(apiUrl) http.setRequestProperty("Accept", 'application/json') http.setRequestProperty("Content-Type", 'application/json') http.setRequestProperty("Authorization", "token ${getSecretValue('github-access-token')}") http.outputStream.write(requestBody.getBytes("UTF-8")) http.connect() println(http.responseCode) if (http.responseCode == 201) { response = new JsonSlurper().parseText(http.inputStream.getText('UTF-8')) } else { response = new JsonSlurper().parseText(http.errorStream.getText('UTF-8')) } println "response: ${response}" } def getSecretValue(name) { def creds = com.cloudbees.plugins.credentials.CredentialsProvider.lookupCredentials( com.cloudbees.plugins.credentials.common.StandardCredentials.class, Jenkins.instance, null, null ) def secret = creds.find { it.properties['id'] == name } return secret != null ? secret['secret'] : null } ``` </details> <p>After the steps above are performed, the new custom job-provision will be available in <strong>Advanced Settings</strong> during the application creation in Admin Console.</p> <p> <figure><a data-caption="Github job provision" data-fancybox=gallery href=../../assets/operator-guide/github-job-provision.png><img alt="Github job provision" src=../../assets/operator-guide/github-job-provision.png title="Github job provision" width=600px></a><figcaption>Github job provision</figcaption> </figure> </p> </li> </ol> <h2 id=gitlab-gitlab>GitLab (gitlab)<a class=headerlink href=#gitlab-gitlab title="Permanent link">⚓︎</a></h2> <p>To create a new job provision for work with GitLab, take the following steps:</p> <ol> <li> <p>Navigate to the Jenkins main page and open the <em>job-provisions/ci</em> folder.</p> </li> <li> <p>Click <em>New Item</em> and type the name of job-provisions - <strong>gitlab</strong>.</p> </li> <li> <p>Select the <em>Freestyle project</em> option and click OK.</p> </li> <li> <p>Select the <em>Discard old builds</em> check box and configure a few parameters:</p> <p>Strategy: Log Rotation</p> <p>Days to keep builds: 10</p> <p>Max # of builds to keep: 10</p> </li> <li> <p>Select the <em>This project is parameterized</em> check box and add a few input parameters as the following strings:</p> <ul> <li>NAME;</li> </ul> <ul> <li>TYPE;</li> </ul> <ul> <li>BUILD_TOOL;</li> </ul> <ul> <li>BRANCH;</li> </ul> <ul> <li>GIT_SERVER_CR_NAME;</li> </ul> <ul> <li>GIT_SERVER_CR_VERSION;</li> </ul> <ul> <li>GIT_SERVER;</li> </ul> <ul> <li>GIT_SSH_PORT;</li> </ul> <ul> <li>GIT_USERNAME;</li> </ul> <ul> <li>GIT_CREDENTIALS_ID;</li> </ul> <ul> <li>REPOSITORY_PATH;</li> </ul> <ul> <li>JIRA_INTEGRATION_ENABLED;</li> </ul> <ul> <li>PLATFORM_TYPE;</li> </ul> <ul> <li>DEFAULT_BRANCH;</li> </ul> </li> <li> <p>Check the <em>Execute concurrent builds if necessary</em> option.</p> </li> <li> <p>Check the <em>Restrict where this project can be run</em> option.</p> </li> <li> <p>Fill in the <em>Label Expression</em> field by typing <em>master</em> to ensure job runs on Jenkins Master.</p> </li> <li> <p>In the <strong>Build</strong> section, perform the following:</p> <ul> <li>Select <em>DSL Script</em>;</li> </ul> <ul> <li>Select the <em>Use the provided DSL script</em> check box:</li> </ul> <p> <figure><a data-caption="DSL script check box" data-fancybox=gallery href=../../assets/operator-guide/dsl_script.png><img alt="DSL script check box" src=../../assets/operator-guide/dsl_script.png title="DSL script check box" width=600px></a><figcaption>DSL script check box</figcaption> </figure> </p> </li> <li> <p>As soon as all the steps above are performed, insert the code:</p> <details> <summary><b>View: Template</b></summary> ```groovy import groovy.json.* import jenkins.model.Jenkins Jenkins jenkins = Jenkins.instance def stages = [:] def jiraIntegrationEnabled = Boolean.parseBoolean("${JIRA_INTEGRATION_ENABLED}" as String) def commitValidateStage = jiraIntegrationEnabled ? ',{"name": "commit-validate"}' : '' def createJIMStage = jiraIntegrationEnabled ? ',{"name": "create-jira-issue-metadata"}' : '' def platformType = "${PLATFORM_TYPE}" def buildTool = "${BUILD_TOOL}" def buildImageStage = platformType == "kubernetes" ? ',{"name": "build-image-kaniko"},' : ',{"name": "build-image-from-dockerfile"},' def goBuildImageStage = platformType == "kubernetes" ? ',{"name": "build-image-kaniko"}' : ',{"name": "build-image-from-dockerfile"}' def goBuildStage = buildTool.toString() == "go" ? ',{"name": "build"}' : ',{"name": "compile"}' stages['Code-review-application'] = '[{"name": "checkout"}' + "${commitValidateStage}" + goBuildStage + ',{"name": "tests"},[{"name": "sonar"},{"name": "dockerfile-lint"},{"name": "helm-lint"}]]' stages['Code-review-library'] = '[{"name": "checkout"}' + "${commitValidateStage}" + ',{"name": "compile"},{"name": "tests"},' + '{"name": "sonar"}]' stages['Code-review-autotests'] = '[{"name": "checkout"}' + "${commitValidateStage}" + ',{"name": "tests"},{"name": "sonar"}' + ']' stages['Code-review-default'] = '[{"name": "checkout"}' + "${commitValidateStage}" + ']' stages['Code-review-library-terraform'] = '[{"name": "checkout"}' + "${commitValidateStage}" + ',{"name": "terraform-lint"}]' stages['Code-review-library-opa'] = '[{"name": "checkout"}' + "${commitValidateStage}" + ',{"name": "tests"}]' stages['Code-review-library-codenarc'] = '[{"name": "checkout"}' + "${commitValidateStage}" + ',{"name": "sonar"},{"name": "build"}]' stages['Code-review-library-kaniko'] = '[{"name": "checkout"}' + "${commitValidateStage}" + ',{"name": "dockerfile-lint"},{"name": "dockerbuild-verify"}]' stages['Build-library-maven'] = '[{"name": "checkout"},{"name": "get-version"},{"name": "compile"},' + '{"name": "tests"},{"name": "sonar"},{"name": "build"},{"name": "push"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-library-npm'] = stages['Build-library-maven'] stages['Build-library-gradle'] = stages['Build-library-maven'] stages['Build-library-dotnet'] = '[{"name": "checkout"},{"name": "get-version"},{"name": "compile"},' + '{"name": "tests"},{"name": "sonar"},{"name": "push"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-library-python'] = '[{"name": "checkout"},{"name": "get-version"},{"name": "compile"},' + '{"name": "tests"},{"name": "sonar"},{"name": "push"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-library-terraform'] = '[{"name": "checkout"},{"name": "get-version"},{"name": "terraform-lint"}' + ',{"name": "terraform-plan"},{"name": "terraform-apply"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-library-opa'] = '[{"name": "checkout"},{"name": "get-version"}' + ',{"name": "tests"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-library-codenarc'] = '[{"name": "checkout"},{"name": "get-version"},{"name": "sonar"},{"name": "build"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-library-kaniko'] = '[{"name": "checkout"},{"name": "get-version"}' + ',{"name": "dockerfile-lint"},{"name": "build-image-kaniko"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-autotests-maven'] = '[{"name": "checkout"},{"name": "get-version"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-autotests-gradle'] = '[{"name": "checkout"},{"name": "get-version"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-application-maven'] = '[{"name": "checkout"},{"name": "get-version"},{"name": "compile"},' + '{"name": "tests"},{"name": "sonar"},{"name": "build"}' + "${buildImageStage}" + '{"name": "push"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-application-python'] = '[{"name": "checkout"},{"name": "get-version"},{"name": "compile"},{"name": "tests"},{"name": "sonar"}' + "${buildImageStage}" + '{"name":"push"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-application-npm'] = stages['Build-application-maven'] stages['Build-application-gradle'] = stages['Build-application-maven'] stages['Build-application-dotnet'] = '[{"name": "checkout"},{"name": "get-version"},{"name": "compile"},' + '{"name": "tests"},{"name": "sonar"}' + "${buildImageStage}" + '{"name": "push"}' + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Build-application-terraform'] = '[{"name": "checkout"},{"name": "tool-init"},' + '{"name": "lint"},{"name": "git-tag"}]' stages['Build-application-helm'] = '[{"name": "checkout"},{"name": "lint"}]' stages['Build-application-docker'] = '[{"name": "checkout"},{"name": "lint"}]' stages['Build-application-go'] = '[{"name": "checkout"},{"name": "get-version"},{"name": "tests"},{"name": "sonar"},' + '{"name": "build"}' + "${goBuildImageStage}" + "${createJIMStage}" + ',{"name": "git-tag"}]' stages['Create-release'] = '[{"name": "checkout"},{"name": "create-branch"},{"name": "trigger-job"}]' def defaultStages = '[{"name": "checkout"}' + "${createJIMStage}" + ']' def codebaseName = "${NAME}" def gitServerCrName = "${GIT_SERVER_CR_NAME}" def gitServerCrVersion = "${GIT_SERVER_CR_VERSION}" def gitServer = "${GIT_SERVER ? GIT_SERVER : 'gerrit'}" def gitSshPort = "${GIT_SSH_PORT ? GIT_SSH_PORT : '29418'}" def gitUsername = "${GIT_USERNAME ? GIT_USERNAME : 'jenkins'}" def gitCredentialsId = "${GIT_CREDENTIALS_ID ? GIT_CREDENTIALS_ID : 'gerrit-ciuser-sshkey'}" def defaultRepoPath = "ssh://${gitUsername}@${gitServer}:${gitSshPort}/${codebaseName}" def repositoryPath = "${REPOSITORY_PATH ? REPOSITORY_PATH : defaultRepoPath}" def defaultBranch = "${DEFAULT_BRANCH}" def codebaseFolder = jenkins.getItem(codebaseName) if (codebaseFolder == null) { folder(codebaseName) } createListView(codebaseName, "Releases") createReleasePipeline("Create-release-${codebaseName}", codebaseName, stages["Create-release"], "CreateRelease", repositoryPath, gitCredentialsId, gitServerCrName, gitServerCrVersion, jiraIntegrationEnabled, platformType, defaultBranch) if (BRANCH) { def branch = "${BRANCH}" def formattedBranch = "${branch.toUpperCase().replaceAll(/\\//, "-")}" createListView(codebaseName, formattedBranch) def type = "${TYPE}" def crKey = getStageKeyName(buildTool).toString() createCiPipeline("Code-review-${codebaseName}", codebaseName, stages.get(crKey, defaultStages), "CodeReview", repositoryPath, gitCredentialsId, branch, gitServerCrName, gitServerCrVersion) def buildKey = "Build-${type}-${buildTool.toLowerCase()}".toString() if (type.equalsIgnoreCase('application') || type.equalsIgnoreCase('library') || type.equalsIgnoreCase('autotests')) { def jobExists = false if("${formattedBranch}-Build-${codebaseName}".toString() in Jenkins.instance.getAllItems().collect{it.name}) { jobExists = true } createCiPipeline("Build-${codebaseName}", codebaseName, stages.get(buildKey, defaultStages), "Build", repositoryPath, gitCredentialsId, branch, gitServerCrName, gitServerCrVersion) if(!jobExists) { queue("${codebaseName}/${formattedBranch}-Build-${codebaseName}") } } } def createCiPipeline(pipelineName, codebaseName, codebaseStages, pipelineType, repository, credId, defaultBranch, gitServerCrName, gitServerCrVersion) { def jobName = "${defaultBranch.toUpperCase().replaceAll(/\\//, "-")}-${pipelineName}" def existingJob = Jenkins.getInstance().getItemByFullName("${codebaseName}/${jobName}") def webhookToken = null if (existingJob) { def triggersMap = existingJob.getTriggers() triggersMap.each { key, value -> webhookToken = value.getSecretToken() } } else { def random = new byte[16] new java.security.SecureRandom().nextBytes(random) webhookToken = random.encodeHex().toString() } pipelineJob("${codebaseName}/${jobName}") { logRotator { numToKeep(10) daysToKeep(7) } properties { gitLabConnection { gitLabConnection('gitlab') } } definition { cps { script("@Library(['edp-library-stages', 'edp-library-pipelines']) _ \n\n${pipelineType}()") sandbox(true) } parameters { stringParam("GIT_SERVER_CR_NAME", "${gitServerCrName}", "Name of Git Server CR to generate link to Git server") stringParam("GIT_SERVER_CR_VERSION", "${gitServerCrVersion}", "Version of GitServer CR Resource") stringParam("STAGES", "${codebaseStages}", "Consequence of stages in JSON format to be run during execution") stringParam("GERRIT_PROJECT_NAME", "${codebaseName}", "Gerrit project name(Codebase name) to be build") if (pipelineName.contains("Build")) stringParam("BRANCH", "${defaultBranch}", "Branch to build artifact from") else stringParam("BRANCH", "\${gitlabMergeRequestLastCommit}", "Branch to build artifact from") } } triggers { gitlabPush { buildOnMergeRequestEvents(pipelineName.contains("Build") ? false : true) buildOnPushEvents(pipelineName.contains("Build") ? true : false) enableCiSkip(false) setBuildDescription(true) rebuildOpenMergeRequest(pipelineName.contains("Build") ? 'never' : 'source') commentTrigger("Build it please") skipWorkInProgressMergeRequest(true) targetBranchRegex("${defaultBranch}") } } configure { it / triggers / 'com.dabsquared.gitlabjenkins.GitLabPushTrigger' << secretToken(webhookToken) it / triggers / 'com.dabsquared.gitlabjenkins.GitLabPushTrigger' << triggerOnApprovedMergeRequest(pipelineName.contains("Build") ? false : true) it / triggers / 'com.dabsquared.gitlabjenkins.GitLabPushTrigger' << pendingBuildName(pipelineName.contains("Build") ? "" : "Jenkins") } } registerWebHook(repository, codebaseName, jobName, webhookToken) } def getStageKeyName(buildTool) { if (buildTool.toString().equalsIgnoreCase('terraform')) { return "Code-review-library-terraform" } if (buildTool.toString().equalsIgnoreCase('opa')) { return "Code-review-library-opa" } if (buildTool.toString().equalsIgnoreCase('codenarc')) { return "Code-review-library-codenarc" } if (buildTool.toString().equalsIgnoreCase('kaniko')) { return "Code-review-library-kaniko" } def buildToolsOutOfTheBox = ["maven","npm","gradle","dotnet","none","go","python"] def supBuildTool = buildToolsOutOfTheBox.contains(buildTool.toString()) return supBuildTool ? "Code-review-${TYPE}" : "Code-review-default" } def createReleasePipeline(pipelineName, codebaseName, codebaseStages, pipelineType, repository, credId, gitServerCrName, gitServerCrVersion, jiraIntegrationEnabled, platformType, defaultBranch) { pipelineJob("${codebaseName}/${pipelineName}") { logRotator { numToKeep(14) daysToKeep(30) } definition { cps { script("@Library(['edp-library-stages', 'edp-library-pipelines']) _ \n\n${pipelineType}()") sandbox(true) } parameters { stringParam("STAGES", "${codebaseStages}", "") if (pipelineName.contains("Create-release")) { stringParam("JIRA_INTEGRATION_ENABLED", "${jiraIntegrationEnabled}", "Is Jira integration enabled") stringParam("PLATFORM_TYPE", "${platformType}", "Platform type") stringParam("GERRIT_PROJECT", "${codebaseName}", "") stringParam("RELEASE_NAME", "", "Name of the release(branch to be created)") stringParam("COMMIT_ID", "", "Commit ID that will be used to create branch from for new release. If empty, DEFAULT_BRANCH will be used") stringParam("GIT_SERVER_CR_NAME", "${gitServerCrName}", "Name of Git Server CR to generate link to Git server") stringParam("GIT_SERVER_CR_VERSION", "${gitServerCrVersion}", "Version of GitServer CR Resource") stringParam("REPOSITORY_PATH", "${repository}", "Full repository path") stringParam("DEFAULT_BRANCH", "${defaultBranch}", "Default repository branch") } } } } } def createListView(codebaseName, branchName) { listView("${codebaseName}/${branchName}") { if (branchName.toLowerCase() == "releases") { jobFilters { regex { matchType(MatchType.INCLUDE_MATCHED) matchValue(RegexMatchValue.NAME) regex("^Create-release.*") } } } else { jobFilters { regex { matchType(MatchType.INCLUDE_MATCHED) matchValue(RegexMatchValue.NAME) regex("^${branchName}-(Code-review|Build).*") } } } columns { status() weather() name() lastSuccess() lastFailure() lastDuration() buildButton() } } } def registerWebHook(repositoryPath, codebaseName, jobName, webhookToken) { def apiUrl = 'https://' + repositoryPath.replaceAll("ssh://", "").split('@')[1].replace('/', "%2F").replaceAll(~/:\d+%2F/, '/api/v4/projects/') + '/hooks' def jobWebhookUrl = "${System.getenv('JENKINS_UI_URL')}/project/${codebaseName}/${jobName}" def gitlabToken = getSecretValue('gitlab-access-token') if (checkWebHookExist(apiUrl, jobWebhookUrl, gitlabToken)) { println("[JENKINS][DEBUG] Webhook for job ${jobName} is already exist\r\n") return } println("[JENKINS][DEBUG] Creating webhook for job ${jobName}") def webhookConfig = [:] webhookConfig["url"] = jobWebhookUrl webhookConfig["push_events"] = jobName.contains("Build") ? "true" : "false" webhookConfig["merge_requests_events"] = jobName.contains("Build") ? "false" : "true" webhookConfig["issues_events"] = "false" webhookConfig["confidential_issues_events"] = "false" webhookConfig["tag_push_events"] = "false" webhookConfig["note_events"] = "true" webhookConfig["job_events"] = "false" webhookConfig["pipeline_events"] = "false" webhookConfig["wiki_page_events"] = "false" webhookConfig["enable_ssl_verification"] = "true" webhookConfig["token"] = webhookToken def requestBody = JsonOutput.toJson(webhookConfig) def httpConnector = new URL(apiUrl).openConnection() as HttpURLConnection httpConnector.setRequestMethod('POST') httpConnector.setDoOutput(true) httpConnector.setRequestProperty("Accept", 'application/json') httpConnector.setRequestProperty("Content-Type", 'application/json') httpConnector.setRequestProperty("PRIVATE-TOKEN", "${gitlabToken}") httpConnector.outputStream.write(requestBody.getBytes("UTF-8")) httpConnector.connect() if (httpConnector.responseCode == 201) println("[JENKINS][DEBUG] Webhook for job ${jobName} has been created\r\n") else { println("[JENKINS][ERROR] Responce code - ${httpConnector.responseCode}") def response = new JsonSlurper().parseText(httpConnector.errorStream.getText('UTF-8')) println("[JENKINS][ERROR] Failed to create webhook for job ${jobName}. Response - ${response}") } } def checkWebHookExist(apiUrl, jobWebhookUrl, gitlabToken) { println("[JENKINS][DEBUG] Checking if webhook ${jobWebhookUrl} exists") def httpConnector = new URL(apiUrl).openConnection() as HttpURLConnection httpConnector.setRequestMethod('GET') httpConnector.setDoOutput(true) httpConnector.setRequestProperty("Accept", 'application/json') httpConnector.setRequestProperty("Content-Type", 'application/json') httpConnector.setRequestProperty("PRIVATE-TOKEN", "${gitlabToken}") httpConnector.connect() if (httpConnector.responseCode == 200) { def response = new JsonSlurper().parseText(httpConnector.inputStream.getText('UTF-8')) return response.find { it.url == jobWebhookUrl } ? true : false } } def getSecretValue(name) { def creds = com.cloudbees.plugins.credentials.CredentialsProvider.lookupCredentials( com.cloudbees.plugins.credentials.common.StandardCredentials.class, Jenkins.instance, null, null ) def secret = creds.find { it.properties['id'] == name } return secret != null ? secret['secret'] : null } ``` </details> </li> <li> <p>Create Secret, GitServer CR and Jenkins credentials with the "gitlab" ID by following the instruction: <a href=../import-strategy/ >Adjust Import Strategy</a>.</p> <p>After the steps above are performed, the new custom job-provision will be available in <strong>Advanced Settings</strong> during the application creation in Admin Console.</p> <p> <figure><a data-caption="Gitlab job provision" data-fancybox=gallery href=../../assets/operator-guide/gitlab-job-provision.png><img alt="Gitlab job provision" src=../../assets/operator-guide/gitlab-job-provision.png title="Gitlab job provision" width=600px></a><figcaption>Gitlab job provision</figcaption> </figure> </p> </li> </ol> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top data-md-state=hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../overview-manage-jenkins-pipelines/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Overview" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Overview </div> </div> </a> <a href=../manage-jenkins-cd-job-provision/ class="md-footer__link md-footer__link--next" aria-label="Next: Manage Jenkins CD Pipeline Job Provisioner" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Manage Jenkins CD Pipeline Job Provisioner </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://hub.docker.com/u/epamedp target=_blank rel=noopener title=hub.docker.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.sections", "navigation.tabs", "navigation.top"], "search": "../../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script> <script src=../../assets/javascripts/bundle.6e54b5cd.min.js></script> <script src=../../js/mkdocs-charts-plugin.js></script> <script src=https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js></script> <script src=https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js></script> <script src=https://cdn.jsdelivr.net/npm/vega@5></script> <script src=https://cdn.jsdelivr.net/npm/vega-lite@5></script> <script src=https://cdn.jsdelivr.net/npm/vega-embed@6></script> <script src=https://unpkg.com/mermaid@8.14.0/dist/mermaid.min.js></script> </body> </html>