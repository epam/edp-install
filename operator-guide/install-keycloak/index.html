<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://epam.github.io/edp-install/operator-guide/install-keycloak/ rel=canonical><link href=../install-ingress-nginx/ rel=prev><link href=../install-defectdojo/ rel=next><link rel=icon href=../../assets/favicon.png><meta name=generator content="mkdocs-1.4.2, mkdocs-material-9.0.4"><title>Install Keycloak - EPAM Delivery Platform</title><link rel=stylesheet href=../../assets/stylesheets/main.9c788c91.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.2505c338.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-7ZV6PJ2LSP"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-7ZV6PJ2LSP",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-7ZV6PJ2LSP",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>var consent;"undefined"==typeof __md_analytics||(consent=__md_get("__consent"))&&consent.analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=cyan data-md-color-accent=blue> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#install-keycloak class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> <button class="md-banner__button md-icon" aria-label="Don't show this again"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> EDP Team Supports Ukraine ðŸ‡ºðŸ‡¦<br> In solidarity, we ask that you consider financially supporting the organizations below:<br> <a href=https://epamuafund.pinkaloo.com/causes/159bdd2f71854adf8ed5251fe26d2fe0 target=_blank>EPAMâ€™s Global Partners for the Ukraine Humanitarian Crisis</a> </div> <script>var content,el=document.querySelector("[data-md-component=announce]");el&&(content=el.querySelector(".md-typeset"),__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0))</script> </aside> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="EPAM Delivery Platform" class="md-header__button md-logo" aria-label="EPAM Delivery Platform" data-md-component=logo> <img src=../../assets/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> EPAM Delivery Platform </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Install Keycloak </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=cyan data-md-color-accent=blue aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary data-md-color-accent aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/epam/edp-install title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Overview </a> </li> <li class=md-tabs__item> <a href=../../getting-started/ class=md-tabs__link> Getting Started </a> </li> <li class=md-tabs__item> <a href=../ class="md-tabs__link md-tabs__link--active"> Operator Guide </a> </li> <li class=md-tabs__item> <a href=../../user-guide/ class=md-tabs__link> User Guide </a> </li> <li class=md-tabs__item> <a href=../../headlamp-user-guide/ class=md-tabs__link> Headlamp User Guide </a> </li> <li class=md-tabs__item> <a href=../../developer-guide/ class=md-tabs__link> Developer Guide </a> </li> <li class=md-tabs__item> <a href=../../roadmap/ class=md-tabs__link> RoadMap </a> </li> <li class=md-tabs__item> <a href=../../use-cases/ class=md-tabs__link> Use Cases </a> </li> <li class=md-tabs__item> <a href=../../faq/ class=md-tabs__link> FAQ </a> </li> <li class=md-tabs__item> <a href=../../glossary/ class=md-tabs__link> Glossary </a> </li> <li class=md-tabs__item> <a href=https://github.com/epam/edp-install/blob/master/RELEASES.md class=md-tabs__link> Releases â§‰ </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="EPAM Delivery Platform" class="md-nav__button md-logo" aria-label="EPAM Delivery Platform" data-md-component=logo> <img src=../../assets/logo.png alt=logo> </a> EPAM Delivery Platform </label> <div class=md-nav__source> <a href=https://github.com/epam/edp-install title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../getting-started/ class=md-nav__link> Getting Started </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_3 type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 tabindex=0 aria-expanded=true> Operator Guide <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Operator Guide" data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Operator Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_3_2 type=checkbox id=__nav_3_2 checked> <label class=md-nav__link for=__nav_3_2 tabindex=0 aria-expanded=true> Installation <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Installation data-md-level=2> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> Installation </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_3_2_1 type=checkbox id=__nav_3_2_1 checked> <label class=md-nav__link for=__nav_3_2_1 tabindex=0 aria-expanded=true> Prerequisites <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Prerequisites data-md-level=3> <label class=md-nav__title for=__nav_3_2_1> <span class="md-nav__icon md-icon"></span> Prerequisites </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../prerequisites/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../install-ingress-nginx/ class=md-nav__link> Install NGINX Ingress Controller </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Install Keycloak <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Install Keycloak </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#prerequisites class=md-nav__link> Prerequisites </a> </li> <li class=md-nav__item> <a href=#postgresql-installation class=md-nav__link> PostgreSQL Installation </a> </li> <li class=md-nav__item> <a href=#keycloak-installation class=md-nav__link> Keycloak Installation </a> </li> <li class=md-nav__item> <a href=#configuration class=md-nav__link> Configuration </a> </li> <li class=md-nav__item> <a href=#related-articles class=md-nav__link> Related Articles </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../install-defectdojo/ class=md-nav__link> Install DefectDojo </a> </li> <li class=md-nav__item> <a href=../install-reportportal/ class=md-nav__link> Install ReportPortal </a> </li> <li class=md-nav__item> <a href=../install-argocd/ class=md-nav__link> Install Argo CD </a> </li> <li class=md-nav__item> <a href=../install-tekton/ class=md-nav__link> Install Tekton </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_3_2_1_8 type=checkbox id=__nav_3_2_1_8> <label class=md-nav__link for=__nav_3_2_1_8 tabindex=0 aria-expanded=false> Kiosk <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Kiosk data-md-level=4> <label class=md-nav__title for=__nav_3_2_1_8> <span class="md-nav__icon md-icon"></span> Kiosk </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../edp-kiosk-usage/ class=md-nav__link> EDP Kiosk Usage </a> </li> <li class=md-nav__item> <a href=../install-kiosk/ class=md-nav__link> Set Up Kiosk </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../kubernetes-cluster-settings/ class=md-nav__link> Set Up Kubernetes </a> </li> <li class=md-nav__item> <a href=../openshift-cluster-settings/ class=md-nav__link> Set Up OpenShift </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../install-edp/ class=md-nav__link> Install EDP </a> </li> <li class=md-nav__item> <a href=../install-via-helmfile/ class=md-nav__link> Install via Helmfile </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_3_3 type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3 tabindex=0 aria-expanded=false> Configuration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Configuration data-md-level=2> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> Configuration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../add-other-code-language/ class=md-nav__link> Add Other Code Language </a> </li> <li class=md-nav__item> <a href=../import-strategy/ class=md-nav__link> Enable VCS Import Strategy </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_3_3_3 type=checkbox id=__nav_3_3_3> <label class=md-nav__link for=__nav_3_3_3 tabindex=0 aria-expanded=false> Manage Jenkins Pipelines <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Manage Jenkins Pipelines" data-md-level=3> <label class=md-nav__title for=__nav_3_3_3> <span class="md-nav__icon md-icon"></span> Manage Jenkins Pipelines </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../overview-manage-jenkins-pipelines/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../manage-jenkins-ci-job-provision/ class=md-nav__link> Manage Jenkins CI Pipeline Job Provisioner </a> </li> <li class=md-nav__item> <a href=../manage-jenkins-cd-job-provision/ class=md-nav__link> Manage Jenkins CD Pipeline Job Provisioner </a> </li> <li class=md-nav__item> <a href=../delete-jenkins-job-provision/ class=md-nav__link> Delete Jenkins Job Provision </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_3_4 type=checkbox id=__nav_3_4> <label class=md-nav__link for=__nav_3_4 tabindex=0 aria-expanded=false> Integration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Integration data-md-level=2> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> Integration </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_3_4_1 type=checkbox id=__nav_3_4_1> <label class=md-nav__link for=__nav_3_4_1 tabindex=0 aria-expanded=false> AWS Integration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="AWS Integration" data-md-level=3> <label class=md-nav__title for=__nav_3_4_1> <span class="md-nav__icon md-icon"></span> AWS Integration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../waf-tf-configuration/ class=md-nav__link> Configure AWS WAF With Terraform </a> </li> <li class=md-nav__item> <a href=../enable-irsa/ class=md-nav__link> Associate IAM Roles With Service Accounts </a> </li> <li class=md-nav__item> <a href=../kaniko-irsa/ class=md-nav__link> IAM Roles for Kaniko Service Accounts </a> </li> <li class=md-nav__item> <a href=../velero-irsa/ class=md-nav__link> IAM Roles for Velero Service Accounts </a> </li> <li class=md-nav__item> <a href=../loki-irsa/ class=md-nav__link> IAM Roles for Loki Service Accounts </a> </li> <li class=md-nav__item> <a href=../configure-keycloak-oidc-eks/ class=md-nav__link> EKS OIDC With Keycloak </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_3_4_2 type=checkbox id=__nav_3_4_2> <label class=md-nav__link for=__nav_3_4_2 tabindex=0 aria-expanded=false> Jira Integration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Jira Integration" data-md-level=3> <label class=md-nav__title for=__nav_3_4_2> <span class="md-nav__icon md-icon"></span> Jira Integration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../jira-integration/ class=md-nav__link> Adjust Jira Integration </a> </li> <li class=md-nav__item> <a href=../jira-gerrit-integration/ class=md-nav__link> Adjust VCS Integration With Jira </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_3_4_3 type=checkbox id=__nav_3_4_3> <label class=md-nav__link for=__nav_3_4_3 tabindex=0 aria-expanded=false> GitHub Integration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="GitHub Integration" data-md-level=3> <label class=md-nav__title for=__nav_3_4_3> <span class="md-nav__icon md-icon"></span> GitHub Integration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../github-integration/ class=md-nav__link> GitHub Integration </a> </li> <li class=md-nav__item> <a href=../github-debug-webhooks/ class=md-nav__link> Debug GitHub Webhooks in Jenkins </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_3_4_4 type=checkbox id=__nav_3_4_4> <label class=md-nav__link for=__nav_3_4_4 tabindex=0 aria-expanded=false> GitLab Integration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="GitLab Integration" data-md-level=3> <label class=md-nav__title for=__nav_3_4_4> <span class="md-nav__icon md-icon"></span> GitLab Integration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../gitlab-integration/ class=md-nav__link> GitLab Integration </a> </li> <li class=md-nav__item> <a href=../gitlabci-integration/ class=md-nav__link> Adjust GitLab CI Tool </a> </li> <li class=md-nav__item> <a href=../gitlab-debug-webhooks/ class=md-nav__link> Debug GitLab Webhooks in Jenkins </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../perf-integration/ class=md-nav__link> Perf Server Integration </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_3_4_6 type=checkbox id=__nav_3_4_6> <label class=md-nav__link for=__nav_3_4_6 tabindex=0 aria-expanded=false> ReportPortal <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=ReportPortal data-md-level=3> <label class=md-nav__title for=__nav_3_4_6> <span class="md-nav__icon md-icon"></span> ReportPortal </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reportportal-keycloak/ class=md-nav__link> Keycloak Integration </a> </li> <li class=md-nav__item> <a href=../report-portal-integration-tekton/ class=md-nav__link> Integration With Tekton </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../logsight-integration/ class=md-nav__link> Logsight Integration </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_3_5 type=checkbox id=__nav_3_5> <label class=md-nav__link for=__nav_3_5 tabindex=0 aria-expanded=false> Platform Capabilities <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Platform Capabilities" data-md-level=2> <label class=md-nav__title for=__nav_3_5> <span class="md-nav__icon md-icon"></span> Platform Capabilities </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_3_5_1 type=checkbox id=__nav_3_5_1> <label class=md-nav__link for=__nav_3_5_1 tabindex=0 aria-expanded=false> GitOps <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=GitOps data-md-level=3> <label class=md-nav__title for=__nav_3_5_1> <span class="md-nav__icon md-icon"></span> GitOps </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../argocd-integration/ class=md-nav__link> Argo CD Integration </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_3_5_2 type=checkbox id=__nav_3_5_2> <label class=md-nav__link for=__nav_3_5_2 tabindex=0 aria-expanded=false> Secrets Management <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Secrets Management" data-md-level=3> <label class=md-nav__title for=__nav_3_5_2> <span class="md-nav__icon md-icon"></span> Secrets Management </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../install-external-secrets-operator/ class=md-nav__link> Install External Secrets Operator </a> </li> <li class=md-nav__item> <a href=../external-secrets-operator-integration/ class=md-nav__link> External Secrets Operator Integration </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_3_5_3 type=checkbox id=__nav_3_5_3> <label class=md-nav__link for=__nav_3_5_3 tabindex=0 aria-expanded=false> Static Application Security Testing <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Static Application Security Testing" data-md-level=3> <label class=md-nav__title for=__nav_3_5_3> <span class="md-nav__icon md-icon"></span> Static Application Security Testing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../overview-sast/ class=md-nav__link> Static Application Security Testing Overview </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_3_5_3_2 type=checkbox id=__nav_3_5_3_2> <label class=md-nav__link for=__nav_3_5_3_2 tabindex=0 aria-expanded=false> Scanners <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Scanners data-md-level=4> <label class=md-nav__title for=__nav_3_5_3_2> <span class="md-nav__icon md-icon"></span> Scanners </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../add-security-scanner/ class=md-nav__link> Add Security Scanner </a> </li> <li class=md-nav__item> <a href=../sast-scaner-semgrep/ class=md-nav__link> Semgrep </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_3_5_4 type=checkbox id=__nav_3_5_4> <label class=md-nav__link for=__nav_3_5_4 tabindex=0 aria-expanded=false> Backup With Velero <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Backup With Velero" data-md-level=3> <label class=md-nav__title for=__nav_3_5_4> <span class="md-nav__icon md-icon"></span> Backup With Velero </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../install-velero/ class=md-nav__link> Install Velero </a> </li> <li class=md-nav__item> <a href=../restore-edp-with-velero/ class=md-nav__link> Restore EDP Tenant With Velero </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_3_5_5 type=checkbox id=__nav_3_5_5> <label class=md-nav__link for=__nav_3_5_5 tabindex=0 aria-expanded=false> Logging <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Logging data-md-level=3> <label class=md-nav__title for=__nav_3_5_5> <span class="md-nav__icon md-icon"></span> Logging </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../install-loki/ class=md-nav__link> Install Grafana Loki </a> </li> <li class=md-nav__item> <a href=../multitenant-logging/ class=md-nav__link> Multitenant Logging </a> </li> <li class=md-nav__item> <a href=../schedule-pods-restart/ class=md-nav__link> Schedule Pods Restart </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_3_6 type=checkbox id=__nav_3_6> <label class=md-nav__link for=__nav_3_6 tabindex=0 aria-expanded=false> Upgrade <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Upgrade data-md-level=2> <label class=md-nav__title for=__nav_3_6> <span class="md-nav__icon md-icon"></span> Upgrade </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_3_6_1 type=checkbox id=__nav_3_6_1> <label class=md-nav__link for=__nav_3_6_1 tabindex=0 aria-expanded=false> EDP on Kubernetes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="EDP on Kubernetes" data-md-level=3> <label class=md-nav__title for=__nav_3_6_1> <span class="md-nav__icon md-icon"></span> EDP on Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../upgrade-edp-2.7.8-to-2.8.4/ class=md-nav__link> Upgrade EDP v.2.7.8 to v.2.8.4 </a> </li> <li class=md-nav__item> <a href=../upgrade-edp-2.8.4-to-2.9.0/ class=md-nav__link> Upgrade EDP v.2.8.4 to v.2.9.0 </a> </li> <li class=md-nav__item> <a href=../upgrade-edp-2.9.0-to-2.10.2/ class=md-nav__link> Upgrade EDP v.2.9.0 to v.2.10.2 </a> </li> <li class=md-nav__item> <a href=../upgrade-edp-2.10.x-to-2.11.x/ class=md-nav__link> Upgrade EDP v.2.10.x to v.2.11.x </a> </li> <li class=md-nav__item> <a href=../upgrade-edp-2.11.x-to-2.12.x/ class=md-nav__link> Upgrade EDP v.2.11.x to v.2.12.x </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_3_7 type=checkbox id=__nav_3_7> <label class=md-nav__link for=__nav_3_7 tabindex=0 aria-expanded=false> Tutorials <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Tutorials data-md-level=2> <label class=md-nav__title for=__nav_3_7> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../deploy-aws-eks/ class=md-nav__link> Deploy AWS EKS Cluster </a> </li> <li class=md-nav__item> <a href=../deploy-okd/ class=md-nav__link> Deploy OKD 4.9 Cluster </a> </li> <li class=md-nav__item> <a href=../deploy-okd-4.10/ class=md-nav__link> Deploy OKD 4.10 Cluster </a> </li> <li class=md-nav__item> <a href=../ssl-automation-okd/ class=md-nav__link> Use Cert-Manager in OpenShift </a> </li> <li class=md-nav__item> <a href=../add-jenkins-agent/ class=md-nav__link> Manage Jenkins Agent </a> </li> <li class=md-nav__item> <a href=../upgrade-keycloak-17.0.x-legacy-to-19.0.x/ class=md-nav__link> Upgrade Keycloak v.17.0.x-legacy to v.19.0.x </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_4 type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 tabindex=0 aria-expanded=false> User Guide <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="User Guide" data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> User Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user-guide/ class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_4_2 type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2 tabindex=0 aria-expanded=false> Application <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Application data-md-level=2> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Application </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user-guide/application/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../user-guide/add-application/ class=md-nav__link> Add Application </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_4_3 type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3 tabindex=0 aria-expanded=false> Autotest <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Autotest data-md-level=2> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> Autotest </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user-guide/autotest/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../user-guide/add-autotest/ class=md-nav__link> Add Autotests </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_4_4 type=checkbox id=__nav_4_4> <label class=md-nav__link for=__nav_4_4 tabindex=0 aria-expanded=false> Library <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Library data-md-level=2> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> Library </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user-guide/library/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../user-guide/add-library/ class=md-nav__link> Add Library </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_4_5 type=checkbox id=__nav_4_5> <label class=md-nav__link for=__nav_4_5 tabindex=0 aria-expanded=false> Pipelines <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Pipelines data-md-level=2> <label class=md-nav__title for=__nav_4_5> <span class="md-nav__icon md-icon"></span> Pipelines </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user-guide/cicd-overview/ class=md-nav__link> EDP CI/CD Overview </a> </li> <li class=md-nav__item> <a href=../../user-guide/pipeline-framework/ class=md-nav__link> EDP Pipeline Framework </a> </li> <li class=md-nav__item> <a href=../../user-guide/add-custom-global-pipeline-lib/ class=md-nav__link> Add Custom Pipeline Library </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_4_5_4 type=checkbox id=__nav_4_5_4> <label class=md-nav__link for=__nav_4_5_4 tabindex=0 aria-expanded=false> CI Pipeline <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="CI Pipeline" data-md-level=3> <label class=md-nav__title for=__nav_4_5_4> <span class="md-nav__icon md-icon"></span> CI Pipeline </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user-guide/ci-pipeline-details/ class=md-nav__link> CI Pipeline Details </a> </li> <li class=md-nav__item> <a href=../../user-guide/code-review-pipeline/ class=md-nav__link> Code Review Pipeline </a> </li> <li class=md-nav__item> <a href=../../user-guide/build-pipeline/ class=md-nav__link> Build Pipeline </a> </li> <li class=md-nav__item> <a href=../../user-guide/customize-ci-pipeline/ class=md-nav__link> Customize CI Pipeline </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_4_5_4_5 type=checkbox id=__nav_4_5_4_5> <label class=md-nav__link for=__nav_4_5_4_5 tabindex=0 aria-expanded=false> Stages <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Stages data-md-level=4> <label class=md-nav__title for=__nav_4_5_4_5> <span class="md-nav__icon md-icon"></span> Stages </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user-guide/pipeline-stages/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../user-guide/dockerfile-stages/ class=md-nav__link> Use Dockerfile Linters for Code Review Pipeline </a> </li> <li class=md-nav__item> <a href=../../user-guide/ecr-to-docker-stages/ class=md-nav__link> Promote Docker Images From ECR to Docker Hub </a> </li> <li class=md-nav__item> <a href=../../user-guide/helm-stages/ class=md-nav__link> Helm Chart Testing and Documentation Tools </a> </li> <li class=md-nav__item> <a href=../../user-guide/opa-stages/ class=md-nav__link> Use Open Policy Agent </a> </li> <li class=md-nav__item> <a href=../../user-guide/terraform-stages/ class=md-nav__link> CI Pipeline for Terraform </a> </li> <li class=md-nav__item> <a href=../../user-guide/container-stages/ class=md-nav__link> CI Pipeline for Container </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_4_5_5 type=checkbox id=__nav_4_5_5> <label class=md-nav__link for=__nav_4_5_5 tabindex=0 aria-expanded=false> CD Pipeline <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="CD Pipeline" data-md-level=3> <label class=md-nav__title for=__nav_4_5_5> <span class="md-nav__icon md-icon"></span> CD Pipeline </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user-guide/cd-pipeline-details/ class=md-nav__link> CD Pipeline Details </a> </li> <li class=md-nav__item> <a href=../../user-guide/add-cd-pipeline/ class=md-nav__link> Add CD Pipeline </a> </li> <li class=md-nav__item> <a href=../../user-guide/customize-cd-pipeline/ class=md-nav__link> Customize CD Pipeline </a> </li> <li class=md-nav__item> <a href=../../user-guide/prepare-for-release/ class=md-nav__link> Prepare for Release </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_4_5_5_5 type=checkbox id=__nav_4_5_5_5> <label class=md-nav__link for=__nav_4_5_5_5 tabindex=0 aria-expanded=false> Stages <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Stages data-md-level=4> <label class=md-nav__title for=__nav_4_5_5_5> <span class="md-nav__icon md-icon"></span> Stages </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user-guide/copy-shared-secrets/ class=md-nav__link> Copy Shared Secrets </a> </li> <li class=md-nav__item> <a href=../../user-guide/helm-release-deletion/ class=md-nav__link> Helm Release Deletion </a> </li> <li class=md-nav__item> <a href=../../user-guide/semi-auto-deploy/ class=md-nav__link> Semi Auto Deploy </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../user-guide/d-d-diagram/ class=md-nav__link> Delivery Dashboard Diagram </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_5 type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 tabindex=0 aria-expanded=false> Headlamp User Guide <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Headlamp User Guide" data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Headlamp User Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../headlamp-user-guide/ class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_5_2 type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2 tabindex=0 aria-expanded=false> Application <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Application data-md-level=2> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> Application </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../headlamp-user-guide/application/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../headlamp-user-guide/add-application/ class=md-nav__link> Add Application </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_5_3 type=checkbox id=__nav_5_3> <label class=md-nav__link for=__nav_5_3 tabindex=0 aria-expanded=false> Autotest <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Autotest data-md-level=2> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> Autotest </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../headlamp-user-guide/autotest/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../headlamp-user-guide/add-autotest/ class=md-nav__link> Add Autotests </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_5_4 type=checkbox id=__nav_5_4> <label class=md-nav__link for=__nav_5_4 tabindex=0 aria-expanded=false> Library <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Library data-md-level=2> <label class=md-nav__title for=__nav_5_4> <span class="md-nav__icon md-icon"></span> Library </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../headlamp-user-guide/library/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../headlamp-user-guide/add-library/ class=md-nav__link> Add Library </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_5_5 type=checkbox id=__nav_5_5> <label class=md-nav__link for=__nav_5_5 tabindex=0 aria-expanded=false> Pipelines <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Pipelines data-md-level=2> <label class=md-nav__title for=__nav_5_5> <span class="md-nav__icon md-icon"></span> Pipelines </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_5_5_1 type=checkbox id=__nav_5_5_1> <label class=md-nav__link for=__nav_5_5_1 tabindex=0 aria-expanded=false> CD Pipeline <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="CD Pipeline" data-md-level=3> <label class=md-nav__title for=__nav_5_5_1> <span class="md-nav__icon md-icon"></span> CD Pipeline </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../headlamp-user-guide/add-cd-pipeline/ class=md-nav__link> Add CD Pipeline </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_5_6 type=checkbox id=__nav_5_6> <label class=md-nav__link for=__nav_5_6 tabindex=0 aria-expanded=false> Git Server <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Git Server" data-md-level=2> <label class=md-nav__title for=__nav_5_6> <span class="md-nav__icon md-icon"></span> Git Server </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../headlamp-user-guide/add-git-server/ class=md-nav__link> Add Git Server </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_6 type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 tabindex=0 aria-expanded=false> Developer Guide <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Developer Guide" data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Developer Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../developer-guide/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../developer-guide/local-development/ class=md-nav__link> Local Development </a> </li> <li class=md-nav__item> <a href=../../developer-guide/rest-api/ class=md-nav__link> EDP API </a> </li> <li class=md-nav__item> <a href=../../developer-guide/mk-docs-development/ class=md-nav__link> Documentation Flow </a> </li> <li class=md-nav__item> <a href=../../developer-guide/edp-workflow/ class=md-nav__link> EDP Project Rules. Working Process </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../roadmap/ class=md-nav__link> RoadMap </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_8 type=checkbox id=__nav_8> <label class=md-nav__link for=__nav_8 tabindex=0 aria-expanded=false> Use Cases <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Use Cases" data-md-level=1> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Use Cases </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../use-cases/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../use-cases/autotest-as-quality-gate/ class=md-nav__link> Autotest as Quality Gate </a> </li> <li class=md-nav__item> <a href=../../use-cases/promotion-procedure/ class=md-nav__link> Promote Application in CD Pipeline </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../faq/ class=md-nav__link> FAQ </a> </li> <li class=md-nav__item> <a href=../../glossary/ class=md-nav__link> Glossary </a> </li> <li class=md-nav__item> <a href=https://github.com/epam/edp-install/blob/master/RELEASES.md class=md-nav__link> Releases â§‰ </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#prerequisites class=md-nav__link> Prerequisites </a> </li> <li class=md-nav__item> <a href=#postgresql-installation class=md-nav__link> PostgreSQL Installation </a> </li> <li class=md-nav__item> <a href=#keycloak-installation class=md-nav__link> Keycloak Installation </a> </li> <li class=md-nav__item> <a href=#configuration class=md-nav__link> Configuration </a> </li> <li class=md-nav__item> <a href=#related-articles class=md-nav__link> Related Articles </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=install-keycloak>Install Keycloak<a class=headerlink href=#install-keycloak title="Permanent link">âš“ï¸Ž</a></h1> <p>Inspect the prerequisites and the main steps to perform for installing Keycloak.</p> <div class="admonition info"> <p class=admonition-title>Info</p> <p>The installation process below is given for a Kubernetes cluster. The steps that differ for an OpenShift cluster are indicated in the warnings blocks.</p> </div> <h2 id=prerequisites>Prerequisites<a class=headerlink href=#prerequisites title="Permanent link">âš“ï¸Ž</a></h2> <ul> <li>Kubectl version 1.23.0 is installed. Please refer to the <a href=https://v1-23.docs.kubernetes.io/releases/download/ >Kubernetes official website</a> for details.</li> <li><a href=https://helm.sh>Helm</a> version 3.10.0+ is installed. Please refer to the <a href=https://github.com/helm/helm/releases/tag/v3.10.2>Helm page</a> on GitHub for details.</li> </ul> <div class="admonition info"> <p class=admonition-title>Info</p> <p>EDP team is using a Keycloakx helm chart from the <a href=https://github.com/codecentric/helm-charts/tree/master/charts/keycloakx>codecentric</a> repository, but other repositories can be used as well (e.g. <a href=https://github.com/bitnami/charts/tree/master/bitnami/keycloak/ >Bitnami</a>). Before installing Keycloak, it is necessary to install a <a href=https://www.postgresql.org/download/ >PostgreSQL database</a>.</p> </div> <div class="admonition info"> <p class=admonition-title>Info</p> <p>It is also possible to install Keycloak using the Helmfile. For details, please refer to the <a href=../install-via-helmfile/#deploy-keycloak>Install via Helmfile</a> page.</p> </div> <h2 id=postgresql-installation>PostgreSQL Installation<a class=headerlink href=#postgresql-installation title="Permanent link">âš“ï¸Ž</a></h2> <p>To install PostgreSQL, follow the steps below:</p> <ol> <li> <p>Check that a security namespace is created. If not, run the following command to create it:</p> <div class=codehilite><pre><span></span><code>kubectl create namespace security
</code></pre></div> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>On the OpenShift platform, apply the <code>SecurityContextConstraints</code> resource. Change the namespace in the <code>users</code> section if required.</p> <details class=note> <summary>View: keycloak-scc.yaml</summary> <div class=highlight><pre><span></span><code><span class=nt>allowHostDirVolumePlugin</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=nt>allowHostIPC</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=nt>allowHostNetwork</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=nt>allowHostPID</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=nt>allowHostPorts</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=nt>allowPrivilegeEscalation</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class=nt>allowPrivilegedContainer</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=nt>allowedCapabilities</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">null</span>
<span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">security.openshift.io/v1</span>
<span class=nt>allowedFlexVolumes</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[]</span>
<span class=nt>defaultAddCapabilities</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[]</span>
<span class=nt>fsGroup</span><span class=p>:</span>
<span class=w>  </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">MustRunAs</span>
<span class=w>  </span><span class=nt>ranges</span><span class=p>:</span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>min</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">999</span>
<span class=w>      </span><span class=nt>max</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">65543</span>
<span class=nt>groups</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[]</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">SecurityContextConstraints</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>annotations</span><span class=p>:</span>
<span class=w>    </span><span class=s>&quot;helm.sh/hook&quot;</span><span class="p p-Indicator">:</span><span class=w> </span><span class=s>&quot;pre-install&quot;</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">keycloak</span>
<span class=nt>priority</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class=nt>readOnlyRootFilesystem</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=nt>requiredDropCapabilities</span><span class=p>:</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">KILL</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">MKNOD</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">SETUID</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">SETGID</span>
<span class=nt>runAsUser</span><span class=p>:</span>
<span class=w>  </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">MustRunAsRange</span>
<span class=w>  </span><span class=nt>uidRangeMin</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class=w>  </span><span class=nt>uidRangeMax</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">65543</span>
<span class=nt>seLinuxContext</span><span class=p>:</span>
<span class=w>  </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">MustRunAs</span>
<span class=nt>supplementalGroups</span><span class=p>:</span>
<span class=w>  </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">RunAsAny</span>
<span class=nt>users</span><span class=p>:</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">system:serviceaccount:security:keycloakx</span>
<span class=nt>volumes</span><span class=p>:</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">configMap</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">downwardAPI</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">emptyDir</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">persistentVolumeClaim</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">projected</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">secret</span>
</code></pre></div> </details> <details class=note> <summary>View: postgresql-keycloak-scc.yaml</summary> <div class=highlight><pre><span></span><code><span class=nt>allowHostDirVolumePlugin</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=nt>allowHostIPC</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=nt>allowHostNetwork</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=nt>allowHostPID</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=nt>allowHostPorts</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=nt>allowPrivilegeEscalation</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class=nt>allowPrivilegedContainer</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=nt>allowedCapabilities</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">null</span>
<span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">security.openshift.io/v1</span>
<span class=nt>allowedFlexVolumes</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[]</span>
<span class=nt>defaultAddCapabilities</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[]</span>
<span class=nt>fsGroup</span><span class=p>:</span>
<span class=w>  </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">MustRunAs</span>
<span class=w>  </span><span class=nt>ranges</span><span class=p>:</span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>min</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">999</span>
<span class=w>      </span><span class=nt>max</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">65543</span>
<span class=nt>groups</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[]</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">SecurityContextConstraints</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>annotations</span><span class=p>:</span>
<span class=w>      </span><span class=s>&quot;helm.sh/hook&quot;</span><span class="p p-Indicator">:</span><span class=w> </span><span class=s>&quot;pre-install&quot;</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">postgresql-keycloak</span>
<span class=nt>priority</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class=nt>readOnlyRootFilesystem</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=nt>requiredDropCapabilities</span><span class=p>:</span>
<span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">KILL</span>
<span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">MKNOD</span>
<span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">SETUID</span>
<span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">SETGID</span>
<span class=nt>runAsUser</span><span class=p>:</span>
<span class=w>  </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">MustRunAsRange</span>
<span class=w>  </span><span class=nt>uidRangeMin</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class=w>  </span><span class=nt>uidRangeMax</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">65543</span>
<span class=nt>seLinuxContext</span><span class=p>:</span>
<span class=w>  </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">MustRunAs</span>
<span class=nt>supplementalGroups</span><span class=p>:</span>
<span class=w>  </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">RunAsAny</span>
<span class=nt>users</span><span class=p>:</span>
<span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">system:serviceaccount:security:default</span>
<span class=nt>volumes</span><span class=p>:</span>
<span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">configMap</span>
<span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">downwardAPI</span>
<span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">emptyDir</span>
<span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">persistentVolumeClaim</span>
<span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">projected</span>
<span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">secret</span>
</code></pre></div> </details> </div> </li> <li> <p>Create PostgreSQL admin secret:</p> <div class=highlight><pre><span></span><code>kubectl<span class=w> </span>-n<span class=w> </span>security<span class=w> </span>create<span class=w> </span>secret<span class=w> </span>generic<span class=w> </span>keycloak-postgresql<span class=w> </span><span class=se>\</span>
--from-literal<span class=o>=</span><span class=nv>password</span><span class=o>=</span>&lt;postgresql_password&gt;<span class=w> </span><span class=se>\</span>
--from-literal<span class=o>=</span>postgres-password<span class=o>=</span>&lt;postgresql_postgres_password&gt;
</code></pre></div> </li> <li> <p>Add a helm chart repository:</p> <div class=highlight><pre><span></span><code>helm<span class=w> </span>repo<span class=w> </span>add<span class=w> </span>bitnami<span class=w> </span>https://charts.bitnami.com/bitnami
helm<span class=w> </span>repo<span class=w> </span>update
</code></pre></div> </li> <li> <p>Install PostgreSQL v.15.1.0 using <a href=https://artifacthub.io/packages/helm/bitnami/postgresql>bitnami/postgresql</a> Helm chart v.12.1.3:</p> <div class="admonition info"> <p class=admonition-title>Info</p> <p>The PostgreSQL can be deployed in production ready mode. For example, it may include multiple replicas, persistent storage, autoscaling, and monitoring. For details, please refer to the <a href=https://github.com/bitnami/charts/tree/master/bitnami/postgresql>official Chart documentation</a>.</p> </div> <div class=highlight><pre><span></span><code>helm<span class=w> </span>install<span class=w> </span>postgresql<span class=w> </span>bitnami/postgresql<span class=w> </span><span class=se>\</span>
--version<span class=w> </span><span class=m>12</span>.1.3<span class=w> </span><span class=se>\</span>
--values<span class=w> </span>values.yaml<span class=w> </span><span class=se>\</span>
--namespace<span class=w> </span>security
</code></pre></div> <p>Check out the <em>values.yaml</em> file sample of the PostgreSQL customization:</p> <details> <summary><b>View: values.yaml</b></summary> <div class=highlight><pre><span></span><code><span class=c1># PostgreSQL read only replica parameters</span>
<span class=nt>readReplicas</span><span class=p>:</span>
<span class=w>  </span><span class=c1># Number of PostgreSQL read only replicas</span>
<span class=w>  </span><span class=nt>replicaCount</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1</span>

<span class=nt>image</span><span class=p>:</span>
<span class=w>  </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">15.1.0-debian-11-r7</span>

<span class=nt>global</span><span class=p>:</span>
<span class=w>  </span><span class=nt>postgresql</span><span class=p>:</span>
<span class=w>    </span><span class=nt>auth</span><span class=p>:</span>
<span class=w>      </span><span class=nt>username</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">admin</span>
<span class=w>      </span><span class=nt>existingSecret</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">keycloak-postgresql</span>
<span class=w>      </span><span class=nt>database</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">keycloak</span>

<span class=nt>primary</span><span class=p>:</span>
<span class=w>  </span><span class=nt>persistence</span><span class=p>:</span>
<span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class=w>    </span><span class=nt>size</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">3Gi</span>
<span class=w>    </span><span class=c1># If the StorageClass with reclaimPolicy: Retain is used, install an additional StorageClass before installing PostgreSQL</span>
<span class=w>    </span><span class=c1># (the code is given below).</span>
<span class=w>    </span><span class=c1># If the default StorageClass will be used - change &quot;gp2-retain&quot; to &quot;gp2&quot;</span>
<span class=w>    </span><span class=nt>storageClass</span><span class=p>:</span><span class=w> </span><span class=s>&quot;gp2-retain&quot;</span>
</code></pre></div> </details> <details class=note> <summary>Install an additional StorageClass (optional)</summary> <p>If the PostgreSQL installation uses a StorageClass with <strong>reclaimPolicy: Retain</strong>, install additional StorageClass <em>storageclass.yaml</em>.</p> <div class="tabbed-set tabbed-alternate" data-tabs=1:2><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><input id=__tabbed_1_2 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>gp2</label><label for=__tabbed_1_2>gp3</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><span class=filename>storageclass.yaml</span><pre><span></span><code><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">StorageClass</span>
<span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">storage.k8s.io/v1</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">gp2-retain</span>
<span class=nt>provisioner</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">kubernetes.io/aws-ebs</span>
<span class=nt>parameters</span><span class=p>:</span>
<span class=w>  </span><span class=nt>fsType</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ext4</span>
<span class=w>  </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">gp2</span>
<span class=nt>reclaimPolicy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Retain</span>
<span class=nt>volumeBindingMode</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">WaitForFirstConsumer</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><span class=filename>storageclass.yaml</span><pre><span></span><code><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">StorageClass</span>
<span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">storage.k8s.io/v1</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">gp3-retain</span>
<span class=nt>provisioner</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ebs.csi.aws.com</span>
<span class=nt>reclaimPolicy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Retain</span>
<span class=nt>volumeBindingMode</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">WaitForFirstConsumer</span>
</code></pre></div> </div> </div> </div> </details> </li> </ol> <h2 id=keycloak-installation>Keycloak Installation<a class=headerlink href=#keycloak-installation title="Permanent link">âš“ï¸Ž</a></h2> <p>To install Keycloak, follow the steps below:</p> <ol> <li> <p>Use <code>security</code> namespace from the PostgreSQL installation.</p> </li> <li> <p>Add a chart repository:</p> <div class=highlight><pre><span></span><code>helm<span class=w> </span>repo<span class=w> </span>add<span class=w> </span>codecentric<span class=w> </span>https://codecentric.github.io/helm-charts
helm<span class=w> </span>repo<span class=w> </span>update
</code></pre></div> </li> <li> <p>Create Keycloak admin secret:</p> <div class=highlight><pre><span></span><code>kubectl<span class=w> </span>-n<span class=w> </span>security<span class=w> </span>create<span class=w> </span>secret<span class=w> </span>generic<span class=w> </span>keycloak-admin-creds<span class=w> </span><span class=se>\</span>
--from-literal<span class=o>=</span><span class=nv>username</span><span class=o>=</span>&lt;keycloak_admin_username&gt;<span class=w> </span><span class=se>\</span>
--from-literal<span class=o>=</span><span class=nv>password</span><span class=o>=</span>&lt;keycloak_admin_password&gt;
</code></pre></div> </li> <li> <p>Install Keycloak 20.0.1 using <a href=https://artifacthub.io/packages/helm/codecentric/keycloakx>codecentric/keycloakx</a> Helm chart:</p> <div class="admonition info"> <p class=admonition-title>Info</p> <p>Keycloak can be deployed in production ready mode. For example, it may include multiple replicas, persistent storage, autoscaling, and monitoring. For details, please refer to the <a href=https://github.com/codecentric/helm-charts/tree/master/charts/keycloakx>official Chart documentation</a>.</p> </div> <div class=highlight><pre><span></span><code>helm<span class=w> </span>install<span class=w> </span>keycloakx<span class=w> </span>codecentric/keycloakx<span class=w> </span><span class=se>\</span>
--version<span class=w> </span><span class=m>1</span>.7.0<span class=w> </span><span class=se>\</span>
--values<span class=w> </span>values.yaml<span class=w> </span><span class=se>\</span>
--namespace<span class=w> </span>security
</code></pre></div> <p>Check out the <em>values.yaml</em> file sample of the Keycloak customization:</p> <details class=note> <summary>View: values.yaml</summary> <div class=highlight><pre><span></span><code><span class=nt>replicas</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1</span>

<span class=c1># Deploy the latest verion</span>
<span class=nt>image</span><span class=p>:</span>
<span class=w>  </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s>&quot;20.0.1&quot;</span>

<span class=c1># start: create OpenShift realm which is required by EDP</span>
<span class=nt>extraInitContainers</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
<span class=w>  </span><span class=no>- name: realm-provider</span>
<span class=w>    </span><span class=no>image: busybox</span>
<span class=w>    </span><span class=no>imagePullPolicy: IfNotPresent</span>
<span class=w>    </span><span class=no>command:</span>
<span class=w>      </span><span class=no>- sh</span>
<span class=w>    </span><span class=no>args:</span>
<span class=w>      </span><span class=no>- -c</span>
<span class=w>      </span><span class=no>- |</span>
<span class=w>        </span><span class=no>echo &#39;{&quot;realm&quot;: &quot;openshift&quot;,&quot;enabled&quot;: true}&#39; &gt; /opt/keycloak/data/import/openshift.json</span>
<span class=w>    </span><span class=no>volumeMounts:</span>
<span class=w>      </span><span class=no>- name: realm</span>
<span class=w>        </span><span class=no>mountPath: /opt/keycloak/data/import</span>

<span class=nt>extraVolumeMounts</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
<span class=w>  </span><span class=no>- name: realm</span>
<span class=w>    </span><span class=no>mountPath: /opt/keycloak/data/import</span>

<span class=nt>extraVolumes</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
<span class=w>  </span><span class=no>- name: realm</span>
<span class=w>    </span><span class=no>emptyDir: {}</span>

<span class=nt>command</span><span class=p>:</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;/opt/keycloak/bin/kc.sh&quot;</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;--verbose&quot;</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;start&quot;</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;--auto-build&quot;</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;--http-enabled=true&quot;</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;--http-port=8080&quot;</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;--hostname-strict=false&quot;</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;--hostname-strict-https=false&quot;</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;--spi-events-listener-jboss-logging-success-level=info&quot;</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;--spi-events-listener-jboss-logging-error-level=warn&quot;</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;--import-realm&quot;</span>

<span class=nt>extraEnv</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
<span class=w>  </span><span class=no>- name: KC_PROXY</span>
<span class=w>    </span><span class=no>value: &quot;passthrough&quot;</span>
<span class=w>  </span><span class=no>- name: KEYCLOAK_ADMIN</span>
<span class=w>    </span><span class=no>valueFrom:</span>
<span class=w>      </span><span class=no>secretKeyRef:</span>
<span class=w>        </span><span class=no>name: keycloak-admin-creds</span>
<span class=w>        </span><span class=no>key: username</span>
<span class=w>  </span><span class=no>- name: KEYCLOAK_ADMIN_PASSWORD</span>
<span class=w>    </span><span class=no>valueFrom:</span>
<span class=w>      </span><span class=no>secretKeyRef:</span>
<span class=w>        </span><span class=no>name: keycloak-admin-creds</span>
<span class=w>        </span><span class=no>key: password</span>
<span class=w>  </span><span class=no>- name: JAVA_OPTS_APPEND</span>
<span class=w>    </span><span class=no>value: &gt;-</span>
<span class=w>      </span><span class=no>-XX:+UseContainerSupport</span>
<span class=w>      </span><span class=no>-XX:MaxRAMPercentage=50.0</span>
<span class=w>      </span><span class=no>-Djava.awt.headless=true</span>
<span class=w>      </span><span class=no>-Djgroups.dns.query={{ include &quot;keycloak.fullname&quot; . }}-headless</span>

<span class=c1># This block should be uncommented if you install Keycloak on Kubernetes</span>
<span class=nt>ingress</span><span class=p>:</span>
<span class=w>  </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class=w>  </span><span class=nt>annotations</span><span class=p>:</span>
<span class=w>    </span><span class=nt>kubernetes.io/ingress.class</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class=w>    </span><span class=nt>ingress.kubernetes.io/affinity</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">cookie</span>
<span class=w>  </span><span class=nt>rules</span><span class=p>:</span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>host</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">keycloak.&lt;ROOT_DOMAIN&gt;</span>
<span class=w>      </span><span class=nt>paths</span><span class=p>:</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=s>&#39;{{</span><span class=nv> </span><span class=s>tpl</span><span class=nv> </span><span class=s>.Values.http.relativePath</span><span class=nv> </span><span class=s>$</span><span class=nv> </span><span class=s>|</span><span class=nv> </span><span class=s>trimSuffix</span><span class=nv> </span><span class=s>&quot;/&quot;</span><span class=nv> </span><span class=s>}}/&#39;</span>
<span class=w>          </span><span class=nt>pathType</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Prefix</span>

<span class=c1># This block should be uncommented if you set Keycloak to OpenShift and change the host field</span>
<span class=c1># route:</span>
<span class=c1>#   enabled: false</span>
<span class=c1>#   # Path for the Route</span>
<span class=c1>#   path: &#39;/&#39;</span>
<span class=c1>#   # Host name for the Route</span>
<span class=c1>#   host: &quot;keycloak.&lt;ROOT_DOMAIN&gt;&quot;</span>
<span class=c1>#   # TLS configuration</span>
<span class=c1>#   tls:</span>
<span class=c1>#     enabled: true</span>

<span class=nt>resources</span><span class=p>:</span>
<span class=w>  </span><span class=nt>limits</span><span class=p>:</span>
<span class=w>    </span><span class=nt>memory</span><span class=p>:</span><span class=w> </span><span class=s>&quot;2048Mi&quot;</span>
<span class=w>  </span><span class=nt>requests</span><span class=p>:</span>
<span class=w>    </span><span class=nt>cpu</span><span class=p>:</span><span class=w> </span><span class=s>&quot;50m&quot;</span>
<span class=w>    </span><span class=nt>memory</span><span class=p>:</span><span class=w> </span><span class=s>&quot;512Mi&quot;</span>

<span class=c1># Check database readiness at startup</span>
<span class=nt>dbchecker</span><span class=p>:</span>
<span class=w>  </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class=nt>database</span><span class=p>:</span>
<span class=w>  </span><span class=nt>vendor</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">postgres</span>
<span class=w>  </span><span class=nt>existingSecret</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">keycloak-postgresql</span>
<span class=w>  </span><span class=nt>hostname</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">postgresql</span>
<span class=w>  </span><span class=nt>port</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">5432</span>
<span class=w>  </span><span class=nt>username</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">admin</span>
<span class=w>  </span><span class=nt>database</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">keycloak</span>
</code></pre></div> </details> </li> </ol> <h2 id=configuration>Configuration<a class=headerlink href=#configuration title="Permanent link">âš“ï¸Ž</a></h2> <p>To prepare Keycloak for integration with EDP, follow the steps below:</p> <ol> <li> <p>Ensure that the <code>openshift</code> realm is created.</p> </li> <li> <p>Create the <code>edp_&lt;EDP_PROJECT&gt;</code> user and set the password in the <code>Master</code> realm.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>This user should be used by EDP to access Keycloak. Please refer to the <a href=../install-edp/ >Install EDP</a> and <a href=../install-via-helmfile/ >Install EDP via Helmfile</a> sections for details.</p> </div> </li> <li> <p>In the <code>Role Mapping</code> tab, assign the proper roles to the user:</p> <ul> <li> <p>Realm Roles:</p> <ul> <li>create-realm,</li> </ul> <ul> <li>offline_access,</li> </ul> <ul> <li>uma_authorization</li> </ul> </li> </ul> <ul> <li> <p>Client Roles <code>openshift-realm</code>:</p> <ul> <li>impersonation,</li> </ul> <ul> <li>manage-authorization,</li> </ul> <ul> <li>manage-clients,</li> </ul> <ul> <li>manage-users</li> </ul> </li> </ul> <p> <figure><a data-caption="Role mappings" data-fancybox=gallery href=../../assets/operator-guide/keycloak-roles.png><img alt="Role mappings" src=../../assets/operator-guide/keycloak-roles.png title="Role mappings" width=600px></a><figcaption>Role mappings</figcaption> </figure> </p> </li> </ol> <h2 id=related-articles>Related Articles<a class=headerlink href=#related-articles title="Permanent link">âš“ï¸Ž</a></h2> <ul> <li><a href=../install-edp/ >Install EDP with values file</a></li> <li><a href=../../getting-started/#install-prerequisites>Install EDP by one command</a></li> <li><a href=../install-via-helmfile/ >Install EDP via Helmfile</a></li> </ul> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </a> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://hub.docker.com/u/epamedp target=_blank rel=noopener title=hub.docker.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-consent data-md-component=consent id=__consent hidden> <div class=md-consent__overlay></div> <aside class=md-consent__inner> <form class="md-consent__form md-grid md-typeset" name=consent> <h4>Cookie consent</h4> <p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p> <input class=md-toggle type=checkbox id=__settings checked> <div class=md-consent__settings> <ul class=task-list> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=analytics checked> <span class=task-list-indicator></span> Google Analytics <label> </li> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=github checked> <span class=task-list-indicator></span> GitHub <label> </li> </ul> </div> <div class=md-consent__controls> <button class="md-button md-button--primary">Accept</button> <button type=reset class="md-button md-button--primary">Reject</button> </div> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.sections", "navigation.tabs", "navigation.top", "announce.dismiss"], "search": "../../assets/javascripts/workers/search.e5c33ebb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../assets/javascripts/bundle.ba449ae6.min.js></script> <script src=../../js/mkdocs-charts-plugin.js></script> <script src=https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js></script> <script src=https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js></script> <script src=https://cdn.jsdelivr.net/npm/vega@5></script> <script src=https://cdn.jsdelivr.net/npm/vega-lite@5></script> <script src=https://cdn.jsdelivr.net/npm/vega-embed@6></script> <script src=https://unpkg.com/mermaid@8.14.0/dist/mermaid.min.js></script> </body> </html>